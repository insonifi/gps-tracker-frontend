{"ts":1376850582061,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"'use strict';\n\n/* Controllers */\n\nangular.module('core.controllers', [])\n  .controller('clockCtrl', ['$scope', 'socket',function ($scope, socket) {\n    socket.on('clock', function (time) {\n      $scope.time = time;\n    });\n  }])\n  .controller('queryCtrl', function ($scope, socket) {\n    socket.on('connect', function () {\n      socket.emit('get-modulelist');\n    });\n    socket.on('modulelist', function (list) {\n      $scope.list = list;\n    })\n    $scope.sendQueryRequest = function () {\n      if (!$scope.module) {\n        console.log('[queryCtrl] no module selected');\n        return;\n      }\n      var extractDate = function (str) {\n          var re = /(\\d+):(\\d+)\\ (\\d+)\\.(\\d+)\\.(\\d+)/,//H:mm D.M.YYYYY\n            array = re.exec(str);\n          return (new Date(array[5], array[4] - 1, array[3], array[1], array[2]));\n        },\n        start_date = extractDate($scope.start),\n        end_date = extractDate($scope.end),\n        module_id = $scope.module.module_id;\n      \n      console.log('[queryCtrl] query %s: from %s to %s', module_id, start_date, end_date);\n  \t\tsocket.emit('query', {module_id: module_id, start: start_date.toISOString(), end: end_date.toISOString()});\n    }\n  })\n  .controller('mapCtrl', ['$scope', function ($scope) {\n    $scope.center = {\n      lat: 56.9496,\n      lng: 24.1040,\n      zoom: 12\n    }\n    $scope.defaults = {\n      maxZoom: 18\n    }\n    $scope.markers = {};\n  }]);\n\n  \n\n"]],"start1":0,"start2":0,"length1":0,"length2":1420}]],"length":1420}
{"contributors":[],"silentsave":true,"ts":1377261237616,"patch":[[{"diffs":[[0,";\n  "],[-1,"\t\t"],[1,"      "],[0,"sock"]],"start1":1071,"start2":1071,"length1":10,"length2":14},{"diffs":[[0,"t('query"],[1,"-period"],[0,"', {modu"]],"start1":1091,"start2":1091,"length1":16,"length2":23},{"diffs":[[0,"rt_date."],[-1,"toISOString"],[1,"valueOf"],[0,"(), end:"]],"start1":1142,"start2":1142,"length1":27,"length2":23},{"diffs":[[0,"ate."],[-1,"toISOString"],[1,"valueOf"],[0,"()})"]],"start1":1171,"start2":1171,"length1":19,"length2":15},{"diffs":[[0,"$scope',"],[1," 'socket',"],[0," functio"]],"start1":1226,"start2":1226,"length1":16,"length2":26},{"diffs":[[0,"cope"],[-1,") {\n    $scope.center = {\n"],[1,", socket) {\n    angular.extend($scope, {\n        riga: {\n    "],[0,"    "]],"start1":1257,"start2":1257,"length1":34,"length2":69},{"diffs":[[0,",\n      "],[1,"   "],[1," "],[0,"lng: 24."]],"start1":1340,"start2":1340,"length1":16,"length2":20},{"diffs":[[0,",\n      "],[1,"    "],[0,"zoom: 12"]],"start1":1364,"start2":1364,"length1":16,"length2":20},{"diffs":[[0,"    "],[1,"  "],[-1,"}"],[1,"  },"],[0,"\n    "],[-1,"$scope.defaults = {\n      maxZoom: 18\n    }\n    $scope.markers = {};\n  }]"],[1,"    markers: {},\n        defaults: {\n            doubleClickZoom: false,\n            maxZoom: 18\n        }\n    });\n    $scope.waypoints = [];\n        $scope.done = true;\n        socket.on('query-waypoint', function (waypoint) {\n          if($scope.done) {\n            $scope.waypoints = [];\n            $scope.done = false;\n          }\n          waypoint.timestamp = new Date(waypoint.timestamp); /* convert to date */\n          waypoint.show_address = false;\n          $scope.waypoints.push(waypoint);\n          // scope.$apply('waypoints');\n        });\n        socket.on('result-address', function (response) {\n          var i,\n            length = $scope.waypoints.length;\n          for (i = 0; i < length; i += 1) {\n            if ($scope.waypoints[i].lat === response.lat\n              || $scope.waypoints[i].long === response.long) {\n                $scope.waypoints[i].address = response.address;\n              }\n            }\n        });\n        socket.on('query-end', function (count) {\n          console.log('Found', count, 'waypoints');\n          $scope.sly.reload();\n          $scope.done = true;\n        });\n        $scope.showAddress = function () {\n          var waypoint = $scope.waypoints[this.$index];\n          waypoint.show_address = true\n          if (!waypoint.address) {\n            socket.emit('get-address', {lat: waypoint.lat, long: waypoint.long});\n          }\n        }\n        $scope.$on('focus', function (event, index) {\n          var waypoint = $scope.waypoints[index];\n          $scope.markers[waypoint.module_id] = {\n            lat: waypoint.lat,\n            lng: waypoint.long,\n            message: waypoint.address\n          }\n          $scope.$digest();\n        }"],[0,");\n"],[-1,"\n"],[0,"  "],[-1,"\n\n"],[1,"}])"]],"start1":1385,"start2":1385,"length1":91,"length2":1724}]],"length":3109,"saved":false}
{"ts":1377261240754,"patch":[[{"diffs":[[0,"    "],[-1,"$scope.waypoints = [];\n        $scope.done = true;\n        socket.on('query-waypoint', function (waypoint) {\n          if($scope.done) {\n            $scope.waypoints = [];\n            $scope.done = false;\n          }\n          waypoint.timestamp = new Date(waypoint.timestamp); /* convert to date */\n          waypoint.show_address = false;\n          $scope.waypoints.push(waypoint);\n          // scope.$apply('waypoints');\n        });\n        socket.on('result-address', function (response) {\n          var i,\n            length = $scope.waypoints.length;\n          for (i = 0; i < length; i += 1) {\n            if ($scope.waypoints[i].lat === response.lat\n              || $scope.waypoints[i].long === response.long) {\n                $scope.waypoints[i].address = response.address;\n              }\n            }\n        });\n        socket.on('query-end', function (count) {\n          console.log('Found', count, 'waypoints');\n          $scope.sly.reload();\n          $scope.done = true;\n        });\n        $scope.showAddress = function () {\n          var waypoint = $scope.waypoints[this.$index];\n          waypoint.show_address = true\n          if (!waypoint.address) {\n            socket.emit('get-address', {lat: waypoint.lat, long: waypoint.long});\n          }\n        }\n        $scope.$on('focus', function (event, index) {\n          var waypoint = $scope.waypoints[index];\n          $scope.markers[waypoint.module_id] = {\n            lat: waypoint.lat,\n            lng: waypoint.long,\n            message: waypoint.address\n          }\n          $scope.$digest();\n        });"],[0,"\n  }"]],"start1":1515,"start2":1515,"length1":1592,"length2":8}]],"length":1525,"saved":false}
{"ts":1377261241845,"patch":[[{"diffs":[[0,"    });\n"],[-1,"    \n"],[0,"  }])"]],"start1":1507,"start2":1507,"length1":18,"length2":13}]],"length":1520,"saved":false}
{"ts":1377261510576,"patch":[[{"diffs":[[0,"      }\n    });\n"],[1,"    $scope.waypoints = [];\n        $scope.done = true;\n        socket.on('query-waypoint', function (waypoint) {\n          if($scope.done) {\n            $scope.waypoints = [];\n            $scope.done = false;\n          }\n          waypoint.timestamp = new Date(waypoint.timestamp); /* convert to date */\n          waypoint.show_address = false;\n          $scope.waypoints.push(waypoint);\n          // $scope.$apply('waypoints');\n        });\n        socket.on('query-end', function (count) {\n          console.log('Found', count, 'waypoints');\n          $scope.sly.reload();\n          $scope.done = true;\n        });\n"],[0,"  }])"]],"start1":1499,"start2":1499,"length1":21,"length2":637}]],"length":2136,"saved":false}
{"ts":1377261516532,"patch":[[{"diffs":[[0,"rl', ['$scope', "],[1,"'$r"],[0,"'socket', functi"]],"start1":1219,"start2":1219,"length1":32,"length2":35}]],"length":2139,"saved":false}
{"ts":1377261518582,"patch":[[{"diffs":[[0,"pe', '$r"],[-1,"'"],[1,"ootScope',"],[0,"socket',"]],"start1":1230,"start2":1230,"length1":17,"length2":26}]],"length":2148,"saved":false}
{"ts":1377261519086,"patch":[[{"diffs":[[0,"tScope',"],[1," "],[0,"socket',"]],"start1":1240,"start2":1240,"length1":16,"length2":17}]],"length":2149,"saved":false}
{"ts":1377261520175,"patch":[[{"diffs":[[0,"Scope', "],[1,"'"],[0,"socket',"]],"start1":1241,"start2":1241,"length1":16,"length2":17}]],"length":2150,"saved":false}
{"ts":1377261526254,"patch":[[{"diffs":[[0,"unction ($scope,"],[1," $rootScope,"],[0," socket) {\n    a"]],"start1":1260,"start2":1260,"length1":32,"length2":44}]],"length":2162,"saved":false}
{"ts":1377261533917,"patch":[[{"diffs":[[0," = [];\n        $"],[1,"roo"],[0,"scope.done = tru"]],"start1":1561,"start2":1561,"length1":32,"length2":35}]],"length":2165,"saved":false}
{"ts":1377261535031,"patch":[[{"diffs":[[0,"    $roo"],[-1,"s"],[1,"tS"],[0,"cope.don"]],"start1":1572,"start2":1572,"length1":17,"length2":18}]],"length":2166,"saved":false}
{"ts":1377261540198,"patch":[[{"diffs":[[0,"    if($"],[-1,"s"],[1,"rootS"],[0,"cope.don"]],"start1":1664,"start2":1664,"length1":17,"length2":21}]],"length":2170,"saved":false}
{"ts":1377261543196,"patch":[[{"diffs":[[0," {\n            $"],[-1,"s"],[1,"rootS"],[0,"cope.waypoints ="]],"start1":1687,"start2":1687,"length1":33,"length2":37}]],"length":2174,"saved":false}
{"ts":1377261545839,"patch":[[{"diffs":[[0,"];\n            $"],[-1,"s"],[1,"rootS"],[0,"cope.done = fals"]],"start1":1726,"start2":1726,"length1":33,"length2":37}]],"length":2178,"saved":false}
{"ts":1377261574301,"patch":[[{"diffs":[[0,"oints = [];\n"],[-1,"    "],[0,"    $rootSco"]],"start1":1556,"start2":1556,"length1":28,"length2":24},{"diffs":[[0,"one = true;\n"],[-1,"    "],[0,"    socket.o"]],"start1":1584,"start2":1584,"length1":28,"length2":24},{"diffs":[[0,"{\n      "],[-1,"    "],[0,"if($root"]],"start1":1648,"start2":1648,"length1":20,"length2":16},{"diffs":[[0,"ope.done) {\n"],[-1,"    "],[0,"        $roo"]],"start1":1666,"start2":1666,"length1":28,"length2":24},{"diffs":[[0,"[];\n        "],[-1,"    "],[0,"$rootScope.d"]],"start1":1709,"start2":1709,"length1":28,"length2":24},{"diffs":[[0,";\n      "],[-1,"    }\n    "],[1,"}\n"],[0,"      wa"]],"start1":1744,"start2":1744,"length1":26,"length2":18},{"diffs":[[0,"date */\n"],[-1,"    "],[0,"      wa"]],"start1":1825,"start2":1825,"length1":20,"length2":16},{"diffs":[[0,"alse;\n      "],[-1,"    "],[0,"$scope.waypo"]],"start1":1864,"start2":1864,"length1":28,"length2":24},{"diffs":[[0,"point);\n"],[-1,"    "],[0,"      //"]],"start1":1901,"start2":1901,"length1":20,"length2":16},{"diffs":[[0,"');\n    "],[-1,"    });\n    "],[1,"});\n"],[0,"    sock"]],"start1":1942,"start2":1942,"length1":28,"length2":20},{"diffs":[[0,"nt) {\n      "],[-1,"    "],[0,"console.log("]],"start1":1994,"start2":1994,"length1":28,"length2":24},{"diffs":[[0,"aypoints');\n"],[-1,"    "],[0,"      $scope"]],"start1":2036,"start2":2036,"length1":28,"length2":24},{"diffs":[[0,";\n      "],[-1,"    "],[0,"$scope.d"]],"start1":2073,"start2":2073,"length1":20,"length2":16},{"diffs":[[0,"= true;\n"],[-1,"    "],[0,"    });\n"]],"start1":2093,"start2":2093,"length1":20,"length2":16}]],"length":2114,"saved":false}
{"ts":1377261589769,"patch":[[{"diffs":[[0,"   });\n    $"],[-1,"s"],[1,"rootS"],[0,"cope.waypoin"]],"start1":1534,"start2":1534,"length1":25,"length2":29}]],"length":2118,"saved":false}
{"ts":1377261627656,"patch":[[{"diffs":[[0,"ope,"],[-1," $rootScope,"],[0," soc"]],"start1":1272,"start2":1272,"length1":20,"length2":8}]],"length":2106,"saved":false}
{"ts":1377261631881,"patch":[[{"diffs":[[0,"pe',"],[-1," '$rootScope',"],[0," 'so"]],"start1":1230,"start2":1230,"length1":22,"length2":8}]],"length":2092,"saved":false}
{"ts":1377261645041,"patch":[[{"diffs":[[0,"   });\n    $"],[-1,"rootS"],[1,"s"],[0,"cope.waypoin"]],"start1":1508,"start2":1508,"length1":29,"length2":25}]],"length":2088,"saved":false}
{"ts":1377261648502,"patch":[[{"diffs":[[0," = [];\n    $"],[-1,"rootS"],[1,"s"],[0,"cope.done = "]],"start1":1535,"start2":1535,"length1":29,"length2":25}]],"length":2084,"saved":false}
{"ts":1377261652263,"patch":[[{"diffs":[[0,"    if($"],[-1,"rootS"],[1,"s"],[0,"cope.don"]],"start1":1622,"start2":1622,"length1":21,"length2":17}]],"length":2080,"saved":false}
{"ts":1377261654995,"patch":[[{"diffs":[[0," {\n        $"],[-1,"rootS"],[1,"s"],[0,"cope.waypoin"]],"start1":1641,"start2":1641,"length1":29,"length2":25}]],"length":2076,"saved":false}
{"ts":1377261657941,"patch":[[{"diffs":[[0,"   $"],[-1,"rootS"],[1,"s"],[0,"cope"]],"start1":1680,"start2":1680,"length1":13,"length2":9}]],"length":2072,"saved":false}
{"ts":1377261664846,"patch":[[{"diffs":[[0,"t);\n"],[-1,"      // $scope.$apply('waypoints');\n"],[0,"    "]],"start1":1863,"start2":1863,"length1":45,"length2":8}]],"length":2035,"saved":false}
{"ts":1377261766792,"patch":[[{"diffs":[[0,"cope.sly"],[1,"Waypoints"],[0,".reload("]],"start1":1977,"start2":1977,"length1":16,"length2":25}]],"length":2044,"saved":false}
{"ts":1377261768530,"patch":[[{"diffs":[[0,"load();\n"],[1,"      \n"],[0,"      $s"]],"start1":1997,"start2":1997,"length1":16,"length2":23}]],"length":2051,"saved":false}
{"ts":1377261770729,"patch":[[{"diffs":[[0,"ad();\n      "],[1,"$scope.slyWaypoints.reload();"],[0,"\n      $scop"]],"start1":1999,"start2":1999,"length1":24,"length2":53}]],"length":2080,"saved":false}
{"ts":1377261774697,"patch":[[{"diffs":[[0,"  $scope.sly"],[-1,"Waypoint"],[1,"Trip"],[0,"s.reload();\n"]],"start1":2009,"start2":2009,"length1":32,"length2":28}]],"length":2076,"saved":false}
{"ts":1377261784205,"patch":[[{"diffs":[[0,"();\n"],[-1,"      $scope.slyTrips.reload();\n"],[0,"    "]],"start1":2001,"start2":2001,"length1":40,"length2":8}]],"length":2044,"saved":false}
{"contributors":[],"silentsave":true,"ts":1377286220729,"patch":[[{"diffs":[[0,"socket',"],[1," '$q',"],[0," functio"]],"start1":1236,"start2":1236,"length1":16,"length2":22},{"diffs":[[0," ($scope, socket"],[1,", $q"],[0,") {\n    angular."]],"start1":1259,"start2":1259,"length1":32,"length2":36},{"diffs":[[0,"  }\n    });\n"],[1,"    /* Query waypoints */\n"],[0,"    $scope.w"]],"start1":1513,"start2":1513,"length1":24,"length2":50},{"diffs":[[0,"= true;\n    });\n"],[1,"    /* Get address for coordinates */\n    socket.on('result-address', function (response) {\n        angular.forEach($scope.waypoints, function (index, waypoint) {\n            if (waypoint.lat === response.lat\n              || waypoint.long === response.long) {\n                waypoint.address = response.address;\n              }\n            });\n        });\n  "],[0,"  }])"]],"start1":2059,"start2":2059,"length1":21,"length2":381}]],"length":2440,"saved":false}
{"ts":1377341936395,"patch":[[{"diffs":[[0," [];\n    $scope."],[-1,"done"],[1,"notReceiving"],[0," = true;\n    soc"]],"start1":1573,"start2":1573,"length1":36,"length2":44},{"diffs":[[0,"($scope."],[-1,"done"],[1,"notReceiving"],[0,") {\n    "]],"start1":1672,"start2":1672,"length1":20,"length2":28},{"diffs":[[0," $scope."],[-1,"done"],[1,"notReceiving"],[0," = false"]],"start1":1734,"start2":1734,"length1":20,"length2":28},{"diffs":[[0,"int."],[-1,"show_"],[0,"addr"]],"start1":1862,"start2":1862,"length1":13,"length2":8},{"diffs":[[0,"dress = "],[-1,"false"],[1,"null"],[0,";\n      "]],"start1":1868,"start2":1868,"length1":21,"length2":20},{"diffs":[[0,"ope."],[-1,"done"],[1,"notReceiving"],[0," = t"]],"start1":2068,"start2":2068,"length1":12,"length2":20}]],"length":2466,"saved":false}
{"ts":1377342954183,"patch":[[{"diffs":[[0," to date */\n"],[1,"      waypoint.show_address = false;\n"],[0,"      waypoi"]],"start1":1839,"start2":1839,"length1":24,"length2":61}]],"length":2503,"saved":false}
{"ts":1377343473425,"patch":[[{"diffs":[[0,"oints = [];\n"],[1,"    $scope.waypoints.min = 0;\n    $scope.waypoints.max = 0;\n"],[0,"    $scope.n"]],"start1":1566,"start2":1566,"length1":24,"length2":84},{"diffs":[[0,"ng = false;\n"],[1,"        $scope.waypoints.min = 0;\n      }\n      if ($scope.waypoints.max < waypoint.timestamp) {\n        $scope.waypoints.max = waypoint.timestamp;\n"],[0,"      }\n    "]],"start1":1812,"start2":1812,"length1":24,"length2":172}]],"length":2711,"saved":false}
{"ts":1377354232435,"patch":[[{"diffs":[[0,"et',"],[-1," '$q',"],[0," fun"]],"start1":1240,"start2":1240,"length1":14,"length2":8},{"diffs":[[0,"cket"],[-1,", $q"],[0,") {\n"]],"start1":1265,"start2":1265,"length1":12,"length2":8}]],"length":2701,"saved":false}
{"ts":1377354454295,"patch":[[{"diffs":[[0,"load();\n"],[1,"      $scope.start = $scope.waypoints.min;\n      $scope.end = $scope.waypoints.max;\n"],[0,"      $s"]],"start1":2286,"start2":2286,"length1":16,"length2":100}]],"length":2785,"saved":false}
{"ts":1377356774239,"patch":[[{"diffs":[[0,"ts.min = 0;\n"],[1,"        $scope.waypoints.max = 0;\n"],[0,"      }\n    "]],"start1":1836,"start2":1836,"length1":24,"length2":58}]],"length":2819,"saved":false}
{"ts":1377356790949,"patch":[[{"diffs":[[0,"[];\n"],[-1,"        $scope.notReceiving = false;\n"],[0,"    "]],"start1":1773,"start2":1773,"length1":45,"length2":8},{"diffs":[[0,"ts.max = 0;\n"],[1,"        $scope.notReceiving = false;\n"],[0,"      }\n    "]],"start1":1833,"start2":1833,"length1":24,"length2":61}]],"length":2819,"saved":false}
{"ts":1377357891570,"patch":[[{"diffs":[[0,"');\n"],[-1,"      $scope.slyWaypoints.reload();\n"],[0,"    "]],"start1":2288,"start2":2288,"length1":44,"length2":8},{"diffs":[[0,"ing = true;\n"],[1,"      $scope.slyWaypoints.reload();\n"],[0,"    });\n    "]],"start1":2398,"start2":2398,"length1":24,"length2":60}]],"length":2819,"saved":false}
{"ts":1377358754036,"patch":[[{"diffs":[[0,"oints.min = "],[-1,"0"],[1,"(new Date()).valueOf()"],[0,";\n    $scope"]],"start1":1583,"start2":1583,"length1":25,"length2":46},{"diffs":[[0,"{\n      "],[1,"  "],[0,"if($scop"]],"start1":1733,"start2":1733,"length1":16,"length2":18},{"diffs":[[0,"ving) {\n        "],[1,"    "],[0,"$scope.waypoints"]],"start1":1761,"start2":1761,"length1":32,"length2":36},{"diffs":[[0,"s = [];\n        "],[1,"   "],[1," "],[0,"$scope.waypoints"]],"start1":1796,"start2":1796,"length1":32,"length2":36},{"diffs":[[0,"s.min = "],[-1,"0;\n"],[1,"(new Date()).valueOf();;\n    "],[0,"        "]],"start1":1831,"start2":1831,"length1":19,"length2":45},{"diffs":[[0,"ts.max = 0;\n"],[1,"    "],[0,"        $sco"]],"start1":1890,"start2":1890,"length1":24,"length2":28},{"diffs":[[0,"    "],[1,"  "],[0,"}\n      "],[-1,"if ("],[1,"  "],[0,"$sco"]],"start1":1945,"start2":1945,"length1":20,"length2":20},{"diffs":[[0,"ts.m"],[-1,"ax < "],[1,"in = Math.min("],[0,"wayp"]],"start1":1975,"start2":1975,"length1":13,"length2":22},{"diffs":[[0,"imestamp"],[-1,") {"],[1,", $scope.waypoints.min);"],[0,"\n       "]],"start1":2003,"start2":2003,"length1":19,"length2":40},{"diffs":[[0,"s.max = "],[1,"Math.max("],[0,"waypoint"]],"start1":2059,"start2":2059,"length1":16,"length2":25},{"diffs":[[0,"imestamp"],[1,", $scope.waypoints.max)"],[0,";\n  "],[-1," "],[-1,"   }\n"],[0,"      wa"]],"start1":2086,"start2":2086,"length1":26,"length2":43},{"diffs":[[0,"te */\n      "],[1,"  "],[0,"waypoint.sho"]],"start1":2194,"start2":2194,"length1":24,"length2":26},{"diffs":[[0,"alse;\n      "],[1,"  "],[0,"waypoint.add"]],"start1":2233,"start2":2233,"length1":24,"length2":26},{"diffs":[[0,"= null;\n"],[1,"  "],[0,"      $s"]],"start1":2264,"start2":2264,"length1":16,"length2":18}]],"length":2942,"saved":false}
{"ts":1377358926789,"patch":[[{"diffs":[[0,"cket) {\n    "],[-1,""],[0,""],[1,"var now = (new Date()).valueOf();\n    "],[0,"angular.exte"]],"start1":1265,"start2":1265,"length1":24,"length2":62},{"diffs":[[0,"s.min = "],[-1,"(new Date()).valueOf();"],[1,"now"],[0,"\n    $sc"]],"start1":1625,"start2":1625,"length1":39,"length2":19},{"diffs":[[0,"oints.max = "],[-1,"0"],[1,"now"],[0,";\n    $scope"]],"start1":1652,"start2":1652,"length1":25,"length2":27},{"diffs":[[0,"eceiving) {\n"],[1,"            now = (new Date()).valueOf();\n"],[0,"            "]],"start1":1777,"start2":1777,"length1":24,"length2":66},{"diffs":[[0,"s.min = "],[-1,"(new Date()).valueOf();"],[1,"now"],[0,";\n      "]],"start1":1893,"start2":1893,"length1":39,"length2":19},{"diffs":[[0,"s.max = "],[-1,"0"],[1,"now"],[0,";\n      "]],"start1":1933,"start2":1933,"length1":17,"length2":19}]],"length":2986,"saved":false}
{"ts":1377361193990,"patch":[[{"diffs":[[0,"rdinates */\n"],[1,"    $scope.requestAddress = function (coords) {\n        socket.emit('get-address', coords);\n    };\n"],[0,"    socket.o"]],"start1":2647,"start2":2647,"length1":24,"length2":123}]],"length":3085,"saved":false}
{"ts":1377365048270,"patch":[[{"diffs":[[0,"ing = true;\n"],[1,"    $scope.activeItem = 0;\n"],[0,"    socket.o"]],"start1":1689,"start2":1689,"length1":24,"length2":51}]],"length":3112,"saved":false}
{"ts":1377366420363,"patch":[[{"diffs":[[0,"ope."],[-1,"slyWaypoints.reload("],[1,"$broadcast('query-end'"],[0,");\n "]],"start1":2613,"start2":2613,"length1":28,"length2":30}]],"length":3114,"saved":false}
{"ts":1377366709506,"patch":[[{"diffs":[[0,"ue;\n"],[-1,"    $scope.activeItem = 0;\n"],[0,"    "]],"start1":1697,"start2":1697,"length1":35,"length2":8}]],"length":3087,"saved":false}
{"ts":1377370204041,"patch":[[{"diffs":[[0,"adcast('"],[-1,"query-end"],[1,"refresh-lists"],[0,"');\n    "]],"start1":2594,"start2":2594,"length1":25,"length2":29}]],"length":3091,"saved":false}
{"ts":1377370395678,"patch":[[{"diffs":[[0,"\n    $scope."],[-1,"waypoints.min"],[1,"start"],[0," = now\n    $"]],"start1":1605,"start2":1605,"length1":37,"length2":29},{"diffs":[[0,"\n    $scope."],[-1,"waypoints.max"],[1,"end"],[0," = now;\n    "]],"start1":1628,"start2":1628,"length1":37,"length2":27},{"diffs":[[0," $scope."],[-1,"waypoints.min"],[1,"start"],[0," = now;\n"]],"start1":1859,"start2":1859,"length1":29,"length2":21},{"diffs":[[0," $scope."],[-1,"waypoints.max"],[1,"end"],[0," = now;\n"]],"start1":1891,"start2":1891,"length1":29,"length2":19},{"diffs":[[0,"');\n"],[-1,"      $scope.start = $scope.waypoints.min;\n      $scope.end = $scope.waypoints.max;\n"],[0,"    "]],"start1":2419,"start2":2419,"length1":92,"length2":8}]],"length":2971,"saved":false}
{"ts":1377370629728,"patch":[[{"diffs":[[0," $scope."],[-1,"waypoints.min"],[1,"start"],[0," = Math."]],"start1":1968,"start2":1968,"length1":29,"length2":21},{"diffs":[[0,"ope."],[-1,"waypoints.min"],[1,"start"],[0,");\n "]],"start1":2016,"start2":2016,"length1":21,"length2":13},{"diffs":[[0," $scope."],[-1,"waypoints.max"],[1,"end"],[0," = Math."]],"start1":2035,"start2":2035,"length1":29,"length2":19},{"diffs":[[0,"ope."],[-1,"waypoints.max"],[1,"end"],[0,");\n "]],"start1":2081,"start2":2081,"length1":21,"length2":11}]],"length":2935,"saved":false}
{"ts":1377372147619,"patch":[[{"diffs":[[0,"on ("],[-1,"index, "],[0,"waypoint"],[1,", index"],[0,") {\n"]],"start1":2710,"start2":2710,"length1":23,"length2":23}]],"length":2935,"saved":false}
{"ts":1377383499269,"patch":[[{"diffs":[[0,".valueOf();\n"],[1,"    $scope.width = window.innerWidth;\n    $scope.height = window.innerHeight;\n"],[0,"    angular."]],"start1":1299,"start2":1299,"length1":24,"length2":102}]],"length":3013,"saved":false}
{"ts":1377383625740,"patch":[[{"diffs":[[0,"Height;\n"],[1,"    $scope.resizeWindow = function () {\n        $scope.width = window.innerWidth;\n        $scope.height = window.innerHeight;\n    }\n"],[0,"    angu"]],"start1":1381,"start2":1381,"length1":16,"length2":148}]],"length":3145,"saved":false}
{"ts":1377383705880,"patch":[[{"diffs":[[0,"f();\n    $scope."],[1,"map_"],[0,"width = window.i"]],"start1":1306,"start2":1306,"length1":32,"length2":36},{"diffs":[[0,"dth;\n    $scope."],[1,"map_"],[0,"height = window."]],"start1":1348,"start2":1348,"length1":32,"length2":36}]],"length":3153,"saved":false}
{"ts":1377383777882,"patch":[[{"diffs":[[0,"    "],[-1,"$scope.resizeWindow"],[1,"window.onresize"],[0," = f"]],"start1":1397,"start2":1397,"length1":27,"length2":23}]],"length":3149,"saved":false}
{"ts":1377383826730,"patch":[[{"diffs":[[0," $scope."],[1,"map_"],[0,"width = "]],"start1":1440,"start2":1440,"length1":16,"length2":20},{"diffs":[[0," $scope."],[1,"map_"],[0,"height ="]],"start1":1486,"start2":1486,"length1":16,"length2":20}]],"length":3157,"saved":false}
{"ts":1377384354913,"patch":[[{"diffs":[[0,"();\n"],[-1,"    $scope.map_width = window.innerWidth;\n    $scope.map_height = window.innerHeight;\n    window.onresize = function () {\n        $scope.map_width = window.innerWidth;\n        $scope.map_height = window.innerHeight;\n    }\n"],[0,"    "]],"start1":1307,"start2":1307,"length1":230,"length2":8}]],"length":2935,"saved":false}
{"ts":1377417615199,"patch":[[{"diffs":[[0,"oints = [];\n"],[1,"    $scope.trips = [];\n"],[0,"    $scope.s"]],"start1":1594,"start2":1594,"length1":24,"length2":47},{"diffs":[[0,"oints = [];\n"],[1,"            $scope.trips = [];\n"],[0,"            "]],"start1":1859,"start2":1859,"length1":24,"length2":55}]],"length":2989,"saved":false}
{"ts":1377420205416,"patch":[[{"diffs":[[0," now"],[-1," = (new Date()).valueOf()"],[1,",\n        tripIdx,\n        parking_time = 300 * 1000;\n        init = function () {\n            now = (new Date()).valueOf();\n            tripIdx = 0;\n            $scope.trips = [];\n            $scope.trips[tripIdx] = [];\n            $scope.trips[tripIdx].start = 0;\n            $scope.trips[tripIdx].end = 0;\n            $scope.waypoints = [];\n            $scope.start = now;\n            $scope.end = now;\n        }"],[0,";\n  "]],"start1":1280,"start2":1280,"length1":33,"length2":423},{"diffs":[[0," /* "],[-1,"Query waypoints */\n    $scope.waypoints = [];\n    $scope.trips = [];\n    $scope.start = now\n    $scope.end = now"],[1,"Initialise variables */\n    init()"],[0,";\n  "]],"start1":1946,"start2":1946,"length1":120,"length2":42},{"diffs":[[0,"ing = true;\n"],[1,"    /* Query waypoints */\n"],[0,"    socket.o"]],"start1":2006,"start2":2006,"length1":24,"length2":50},{"diffs":[[0,"    "],[-1,"now = (new Date()).valueOf();\n            $scope.waypoints = [];\n            $scope.trips = [];\n            $scope.start = now;\n            $scope.end = now;"],[1,"init()"],[0,"\n   "]],"start1":2140,"start2":2140,"length1":165,"length2":14},{"diffs":[[0,"alse;\n        }\n"],[1,"        /* Receive waypoint */\n"],[0,"        $scope.s"]],"start1":2186,"start2":2186,"length1":32,"length2":63},{"diffs":[[0,"aypoint)"],[-1,""],[0,""],[1,";\n        \n        /* Detect trip */\n        if (waypoint.timestamp - $scope.trips[tripIdx].end > parking_time) {\n            tripIdx += 1;\n            $scope.trips[tripIdx].start = waypoint.timestamp;\n        }\n        $scope.trips[tripIdx].push({\n            lat: waypoint.lat,\n            lng: waypoint.long,\n        });\n        $scope.trips[tripIdx].end = waypoint.timestamp"],[0,";\n    })"]],"start1":2547,"start2":2547,"length1":16,"length2":394}]],"length":3585,"saved":false}
{"ts":1377421421723,"patch":[[{"diffs":[[0,"ripIdx,\n"],[1,"        length,\n"],[0,"        "]],"start1":1295,"start2":1295,"length1":16,"length2":32},{"diffs":[[0,"ripIdx = 0;\n"],[1,"            length = 0;\n"],[0,"            "]],"start1":1438,"start2":1438,"length1":24,"length2":48},{"diffs":[[0,"estamp;\n        "],[-1,"}\n"],[1,"    length = $scope.trips[tripIdx].length - 1;\n        }\n        if ($scope.trips[tripIdx][length].lat !== waypoint.lat &&\n            $scope.trips[tripIdx][length].lng !== waypoint.lng) {\n            \n    "],[0,"        $scope.t"]],"start1":2789,"start2":2789,"length1":34,"length2":238},{"diffs":[[0,".push({\n"],[1,"    "],[0,"        "]],"start1":3040,"start2":3040,"length1":16,"length2":20},{"diffs":[[0,"            "],[1,"    "],[0,"lng: waypoin"]],"start1":3083,"start2":3083,"length1":24,"length2":28},{"diffs":[[0,"t.long,\n        "],[1,"  "],[1,"  "],[0,"});\n"],[1,"    "],[0,"        $scope.t"]],"start1":3111,"start2":3111,"length1":36,"length2":44},{"diffs":[[0,".timestamp;\n"],[1,"            length = $scope.trips[tripIdx].length - 1;\n        }\n"],[0,"    });\n    "]],"start1":3183,"start2":3183,"length1":24,"length2":89}]],"length":3910,"saved":false}
{"ts":1377421698973,"patch":[[{"diffs":[[0,"0 * 1000"],[-1,";"],[1,","],[0,"\n       "]],"start1":1344,"start2":1344,"length1":17,"length2":17},{"diffs":[[0,"    init"],[1,"_vars"],[0," = funct"]],"start1":1358,"start2":1358,"length1":16,"length2":21},{"diffs":[[0,"    init"],[1,"_vars"],[0,"();\n    "]],"start1":2019,"start2":2019,"length1":16,"length2":21}]],"length":3920,"saved":false}
{"contributors":[],"silentsave":true,"ts":1378671020780,"patch":[[{"diffs":[[0,", socket) {\n    "],[-1,""],[1,"$scope.end_date = new Date();\n    $scope.start_date = new Date($scope.end_date - 1000 * 3600 * 24);\n    "],[0,"socket.on('conne"]],"start1":272,"start2":272,"length1":32,"length2":136},{"diffs":[[0,"    "],[-1,"  "],[0,"var "],[-1,"extractDate = function (str) {\n          var re = /(\\d+):(\\d+)\\ (\\d+)\\.(\\d+)\\.(\\d+)/,//H:mm D.M.YYYYY\n            array = re.exec(str);\n          return (new Date(array[5], array[4] - 1, array[3], array[1], array[2]));\n        },\n        "],[0,"star"]],"start1":702,"start2":702,"length1":252,"length2":12},{"diffs":[[0,"tart_date = "],[-1,"extractDate("],[0,"$scope.start"]],"start1":711,"start2":711,"length1":36,"length2":24},{"diffs":[[0,"pe.start"],[-1,"),\n    "],[1,"_date,\n"],[0,"    end_"]],"start1":727,"start2":727,"length1":23,"length2":23},{"diffs":[[0,"e = "],[-1,"extractDate("],[0,"$sco"]],"start1":753,"start2":753,"length1":20,"length2":8},{"diffs":[[0,".end"],[-1,"),\n    "],[1,"_date,\n"],[0,"    "]],"start1":763,"start2":763,"length1":15,"length2":15},{"diffs":[[0,"    trip"],[-1,"Idx"],[1,"_idx,\n        first"],[0,",\n      "]],"start1":1130,"start2":1130,"length1":19,"length2":35},{"diffs":[[0,"       l"],[-1,"ength"],[1,"ast"],[0,",\n      "]],"start1":1160,"start2":1160,"length1":21,"length2":19},{"diffs":[[0," * 1000,"],[1," /* 5mins */"],[0,"\n       "]],"start1":1199,"start2":1199,"length1":16,"length2":28},{"diffs":[[0,"trip"],[-1,"Idx = 0;\n            length = 0;\n            $scope.trips = [];\n            $scope.trips[tripIdx] = [];\n            $scope.trips[tripIdx].start = 0;\n            $scope.trips[tripIdx].end"],[1,"_idx"],[0," = 0"]],"start1":1308,"start2":1308,"length1":194,"length2":12},{"diffs":[[0,"ope."],[-1,"start = now;\n            $scope.end = now"],[1,"trips = []"],[0,";\n  "]],"start1":1372,"start2":1372,"length1":49,"length2":18},{"diffs":[[0,"rs: {},\n"],[1,"        paths: {},\n"],[0,"        "]],"start1":1535,"start2":1535,"length1":16,"length2":35},{"diffs":[[0,"waypoint) {\n"],[1,"        var overall;\n"],[0,"        if($"]],"start1":1808,"start2":1808,"length1":24,"length2":45},{"diffs":[[0,"    init"],[-1,""],[1,"_vars"],[0,"()\n     "]],"start1":1883,"start2":1883,"length1":16,"length2":21},{"diffs":[[0,"    "],[-1,"}\n        /* Receive waypoint */\n        $scope"],[1,"    $scope.trips[0] = {};\n            $scope.trips[0].addressA = '';\n            $scope.trips[0].addressB = '';\n            $scope.trips[0].start = now;\n            $scope.trips[0].end = now;\n        }\n        /* Receive waypoint */\n        overall = $scope.trips[0];\n        overall"],[0,".sta"]],"start1":1944,"start2":1944,"length1":55,"length2":291},{"diffs":[[0,"estamp, "],[-1,"$scope"],[1,"overall"],[0,".start);"]],"start1":2261,"start2":2261,"length1":22,"length2":23},{"diffs":[[0,"t);\n        "],[-1,"$scope"],[1,"overall"],[0,".end = Math."]],"start1":2281,"start2":2281,"length1":30,"length2":31},{"diffs":[[0,"estamp, "],[-1,"$scope"],[1,"overall"],[0,".end);\n "]],"start1":2328,"start2":2328,"length1":22,"length2":23},{"diffs":[[0,"    "],[-1,"    \n        /* Detect trip"],[1,"});\n    socket.on('query-end', function (count) {\n        console.log('Found', count, 'waypoints');\n        $scope.notReceiving = true;\n        /* Sort waypoints"],[0," */\n"]],"start1":2544,"start2":2544,"length1":35,"length2":169},{"diffs":[[0,"    "],[-1,"if ("],[1,"$scope."],[0,"waypoint"],[-1,".timestamp - $scope.trips[tripIdx].end > parking_time) {\n"],[1,"s.sort(function (a, b) {\n            if (a.timestamp > b.timestamp) {\n                return 1;\n            }\n            if (a.timestamp < b.timestamp) {\n                return -1;\n            }\n            return 0;\n        });\n        /* Detect trip */\n        (function () {\n            var i,\n    "],[0,"    "]],"start1":2717,"start2":2717,"length1":77,"length2":325},{"diffs":[[0,"trip"],[-1,"I"],[1,"_i"],[0,"dx "],[-1,"+"],[0,"= 1"],[-1,";\n            $scope.trips[tripIdx].start = "],[1,",\n                previous,\n                current,\n                now = (new Date()).valueOf(),\n                length = $scope.waypoints.length;\n            for (i = 0; i < length; i += 1) {\n                previous = ($scope.waypoints[i - 1] || $scope.waypoints[i]).timestamp;\n                current = $scope."],[0,"waypoint"],[1,"s[i]"],[0,".tim"]],"start1":3050,"start2":3050,"length1":68,"length2":343},{"diffs":[[0,"            "],[-1,"length = "],[1,"    if (current - previous > parking_time) {\n                    if ("],[0,"$scope.trips"]],"start1":3401,"start2":3401,"length1":33,"length2":93},{"diffs":[[0,"ips[trip"],[-1,"I"],[1,"_i"],[0,"dx]."],[-1,"l"],[0,"en"],[-1,"gth - 1;\n"],[1,"d === $scope.trips[trip_idx].start) {\n                        continue;\n            "],[0,"        "]],"start1":3491,"start2":3491,"length1":33,"length2":108},{"diffs":[[0,"      }\n        "],[-1,"if ("],[1,"            "],[0,"$scope.trips[tri"]],"start1":3593,"start2":3593,"length1":36,"length2":44},{"diffs":[[0,"trip"],[-1,"Idx][length].lat !== waypoint.lat &&\n"],[1,"_idx].end = previous;\n        "],[0,"    "]],"start1":3634,"start2":3634,"length1":45,"length2":38},{"diffs":[[0,"trip"],[-1,"Idx][length].lng !== waypoint.lng) {"],[1,"_idx].addressB = current.toLocaleDateString() + ' ' + current.toLocaleTimeString;\n                    trip_idx += 1;"],[0,"\n   "]],"start1":3693,"start2":3693,"length1":44,"length2":124},{"diffs":[[0,"            "],[1,"    }"],[0,"\n           "]],"start1":3814,"start2":3814,"length1":24,"length2":29},{"diffs":[[0,"  }\n            "],[1,"    if (!"],[0,"$scope.trips[tri"]],"start1":3828,"start2":3828,"length1":32,"length2":41},{"diffs":[[0,"trip"],[-1,"Idx].push({\n                lat: waypoint.lat,\n                lng: waypoint.long,\n"],[1,"_idx]) {\n                    $scope.trips[trip_idx] = {\n                        start: current,\n                        end: 0,\n                        addressA: current.toLocaleDateString() + ' ' + current.toLocaleTimeString\n        "],[0,"    "]],"start1":3866,"start2":3866,"length1":91,"length2":242},{"diffs":[[0,"               }"],[-1,")"],[0,";\n            $s"]],"start1":4101,"start2":4101,"length1":33,"length2":32},{"diffs":[[0,"    "],[-1,"$scope.trips[tripIdx].end = waypoint.timestamp;"],[1,"    }\n            }\n            /* Append last waypoint */"],[0,"\n   "]],"start1":4127,"start2":4127,"length1":55,"length2":66},{"diffs":[[0,"\n           "],[-1," length ="],[0," $scope.trip"]],"start1":4189,"start2":4189,"length1":33,"length2":24},{"diffs":[[0,"trip"],[-1,"I"],[1,"_i"],[0,"dx]."],[-1,"l"],[0,"en"],[-1,"gth - 1;\n        }\n    });\n    socket.on('query-end', function (count) {\n      console.log('Found', count, 'waypoint"],[1,"d = current;\n            $scope.trips[trip_idx].addressB = '';\n            console.log('Detected', $scope.trips.length - 1, 'trip"],[0,"s');\n"],[1,"      "],[0,"    "]],"start1":4215,"start2":4215,"length1":137,"length2":156},{"diffs":[[0," $scope."],[-1,"notReceiving = true;\n"],[1,"$digest();\n        }) ();\n  "],[0,"      $s"]],"start1":4372,"start2":4372,"length1":37,"length2":44},{"diffs":[[0,"refresh-"],[-1,"list"],[1,"trip"],[0,"s');\n   "]],"start1":4433,"start2":4433,"length1":20,"length2":20}]],"length":4922,"saved":false}
{"ts":1378671039446,"patch":[[{"diffs":[[0,"current."],[-1,"toLocaleDateString()"],[1,"getMoth"],[0," + ' ' +"]],"start1":3714,"start2":3714,"length1":36,"length2":23}]],"length":4909,"saved":false}
{"ts":1378671040351,"patch":[[{"diffs":[[0,"etMoth +"],[1," +"],[0," ' ' + c"]],"start1":3723,"start2":3723,"length1":16,"length2":18}]],"length":4911,"saved":false}
{"ts":1378671041576,"patch":[[{"diffs":[[0,"etMoth +"],[1," 1"],[0," + ' ' +"]],"start1":3723,"start2":3723,"length1":16,"length2":18}]],"length":4913,"saved":false}
{"ts":1378671050504,"patch":[[{"diffs":[[0,"ressB = "],[1,"\n                        "],[0,"current."]],"start1":3706,"start2":3706,"length1":16,"length2":41}]],"length":4938,"saved":false}
{"ts":1378671055951,"patch":[[{"diffs":[[0,"oth + 1 "],[1,"\n                        "],[0,"+ ' ' + "]],"start1":3751,"start2":3751,"length1":16,"length2":41}]],"length":4963,"saved":false}
{"ts":1378671060057,"patch":[[{"diffs":[[0,"      + "],[1,"current.get"],[0,"' ' + cu"]],"start1":3778,"start2":3778,"length1":16,"length2":27}]],"length":4974,"saved":false}
{"ts":1378671061474,"patch":[[{"diffs":[[0,"nt.getMo"],[1,"n"],[0,"th + 1 \n"]],"start1":3744,"start2":3744,"length1":16,"length2":17}]],"length":4975,"saved":false}
{"ts":1378671062562,"patch":[[{"diffs":[[0,"getMonth"],[1,"()"],[0," + 1 \n  "]],"start1":3747,"start2":3747,"length1":16,"length2":18}]],"length":4977,"saved":false}
{"ts":1378671066594,"patch":[[{"diffs":[[0,"rent.get"],[-1,"'"],[1,"Date()"],[0," ' + cur"]],"start1":3792,"start2":3792,"length1":17,"length2":22}]],"length":4982,"saved":false}
{"ts":1378671071190,"patch":[[{"diffs":[[0,"h() + 1 "],[1,"+ ''"],[0,"\n       "]],"start1":3754,"start2":3754,"length1":16,"length2":20}]],"length":4986,"saved":false}
{"ts":1378671072957,"patch":[[{"diffs":[[0," + 1 + '"],[1,"."],[0,"'\n      "]],"start1":3757,"start2":3757,"length1":16,"length2":17}]],"length":4987,"saved":false}
{"ts":1378671076235,"patch":[[{"diffs":[[0,"tDate() "],[1,"+ '"],[0,"' + curr"]],"start1":3804,"start2":3804,"length1":16,"length2":19}]],"length":4990,"saved":false}
{"ts":1378671082598,"patch":[[{"diffs":[[0,"te() + '"],[1,". "],[0,"' + curr"]],"start1":3807,"start2":3807,"length1":16,"length2":18}]],"length":4992,"saved":false}
{"ts":1378671093526,"patch":[[{"diffs":[[0,"ent."],[-1,"getMonth"],[0,"() +"]],"start1":3743,"start2":3743,"length1":16,"length2":8}]],"length":4984,"saved":false}
{"ts":1378671096011,"patch":[[{"diffs":[[0,".getDate"],[1,"getMonth"],[0,"() + '. "]],"start1":3793,"start2":3793,"length1":16,"length2":24}]],"length":4992,"saved":false}
{"ts":1378671097758,"patch":[[{"diffs":[[0,"current."],[1,"getDate"],[0,"() + 1 +"]],"start1":3739,"start2":3739,"length1":16,"length2":23},{"diffs":[[0,"current."],[-1,"getDate"],[0,"getMonth"]],"start1":3793,"start2":3793,"length1":23,"length2":16}]],"length":4992,"saved":false}
{"ts":1378671105234,"patch":[[{"diffs":[[0,"meString"],[1,"()"],[0,";\n      "]],"start1":3839,"start2":3839,"length1":16,"length2":18}]],"length":4994,"saved":false}
{"ts":1378671201893,"patch":[[{"diffs":[[0,"current."],[-1,"toLocaleTimeString"],[1,"getHo"],[0,"();\n    "]],"start1":3821,"start2":3821,"length1":34,"length2":21}]],"length":4981,"saved":false}
{"ts":1378671203138,"patch":[[{"diffs":[[0,"nt.getHo"],[1,"urs"],[0,"();\n    "]],"start1":3826,"start2":3826,"length1":16,"length2":19}]],"length":4984,"saved":false}
{"ts":1378671205835,"patch":[[{"diffs":[[0,"t.getHours()"],[1," + ''"],[0,";\n          "]],"start1":3827,"start2":3827,"length1":24,"length2":29}]],"length":4989,"saved":false}
{"ts":1378671208403,"patch":[[{"diffs":[[0,"rs() + '"],[1,":"],[0,"';\n     "]],"start1":3835,"start2":3835,"length1":16,"length2":17}]],"length":4990,"saved":false}
{"ts":1378671212769,"patch":[[{"diffs":[[0,") + '. '"],[1,"\n                       "],[0," + curre"]],"start1":3810,"start2":3810,"length1":16,"length2":40}]],"length":5014,"saved":false}
{"ts":1378671214219,"patch":[[{"diffs":[[0,"() + ':'"],[1,"\n                        + "],[0,";\n      "]],"start1":3861,"start2":3861,"length1":16,"length2":43}]],"length":5041,"saved":false}
{"ts":1378671216267,"patch":[[{"diffs":[[0,"      + "],[1,"current."],[0,";\n      "]],"start1":3888,"start2":3888,"length1":16,"length2":24}]],"length":5049,"saved":false}
{"ts":1378671220197,"patch":[[{"diffs":[[0,"current."],[1,"getMinutes()"],[0,";\n      "]],"start1":3896,"start2":3896,"length1":16,"length2":28}]],"length":5061,"saved":false}
{"ts":1378671234552,"patch":[[{"diffs":[[0,"sA: "],[-1,"current.toLocaleDateString"],[1,"\n                        current.getDate() + 1 + '.'\n                        + current.getMonth"],[0,"() + '"],[1,"."],[0," '"],[-1," + current.toLocaleTimeString"],[1,"\n                        + current.getHours() + ':'\n                        + current.getMinutes();"],[0,"\n   "]],"start1":4167,"start2":4167,"length1":71,"length2":211}]],"length":5201,"saved":false}
{"ts":1378671239833,"patch":[[{"diffs":[[0,"                "],[1,"    "],[0,"current.getDate("]],"start1":4180,"start2":4180,"length1":32,"length2":36},{"diffs":[[0,"ate() + 1 + '.'\n"],[1,"    "],[0,"                "]],"start1":4212,"start2":4212,"length1":32,"length2":36},{"diffs":[[0,"                "],[1,"    "],[0,"+ current.getHou"]],"start1":4292,"start2":4292,"length1":32,"length2":36},{"diffs":[[0,"etHours() + ':'\n"],[1,"    "],[0,"                "]],"start1":4323,"start2":4323,"length1":32,"length2":36}]],"length":5217,"saved":false}
{"ts":1378671244279,"patch":[[{"diffs":[[0,"ent.getMinutes()"],[-1,";"],[0,"\n               "]],"start1":4373,"start2":4373,"length1":33,"length2":32}]],"length":5216,"saved":false}
{"ts":1378672371260,"patch":[[{"diffs":[[0,"B = "],[-1,"\n                        current.getDate() + 1 + '.'\n                        + current.getMonth() + '. '\n                        + current.getHours() + ':'\n                        + current.getMinutes();"],[1,"cur"],[0,"\n   "]],"start1":3710,"start2":3710,"length1":211,"length2":11}]],"length":5016,"saved":false}
{"ts":1378672372741,"patch":[[{"diffs":[[0,"sB = cur"],[1,"rent."],[0,"\n       "]],"start1":3709,"start2":3709,"length1":16,"length2":21}]],"length":5021,"saved":false}
{"ts":1378672373292,"patch":[[{"diffs":[[0,"current."],[1,"t"],[0,"\n       "]],"start1":3714,"start2":3714,"length1":16,"length2":17}]],"length":5022,"saved":false}
{"ts":1378672375259,"patch":[[{"diffs":[[0,"urrent.t"],[1,"oLocaleTi"],[0,"\n       "]],"start1":3715,"start2":3715,"length1":16,"length2":25}]],"length":5031,"saved":false}
{"ts":1378672377836,"patch":[[{"diffs":[[0,"cale"],[-1,"Ti"],[1,"String()"],[0,"\n   "]],"start1":3726,"start2":3726,"length1":10,"length2":16}]],"length":5037,"saved":false}
{"ts":1378672379841,"patch":[[{"diffs":[[0,"String()"],[1,";"],[0,"\n       "]],"start1":3730,"start2":3730,"length1":16,"length2":17}]],"length":5038,"saved":false}
{"ts":1378672388664,"patch":[[{"diffs":[[0,"sA: "],[-1,"\n                            current.getDate() + 1 + '.'\n                            + current.getMonth() + '. '\n                            + current.getHours() + ':'\n                            + current.getMinutes"],[1,"current.toLocaleString"],[0,"()\n "]],"start1":3989,"start2":3989,"length1":224,"length2":30}]],"length":4844,"saved":false}
{"ts":1378672398572,"patch":[[{"diffs":[[0,"idx].addressB = "],[-1,"''"],[1,"current.toLocaleString()"],[0,";\n            co"]],"start1":4192,"start2":4192,"length1":34,"length2":56}]],"length":4866,"saved":false}
{"ts":1378672567639,"patch":[[{"diffs":[[0,"length;\n"],[1,"            \n"],[0,"        "]],"start1":3203,"start2":3203,"length1":16,"length2":29}]],"length":4879,"saved":false}
{"ts":1378672574144,"patch":[[{"diffs":[[0,"            "],[1,"$scope.w"],[0,"\n           "]],"start1":3211,"start2":3211,"length1":24,"length2":32}]],"length":4887,"saved":false}
{"ts":1378672576520,"patch":[[{"diffs":[[0," $scope."],[-1,"w"],[1,"trips[]"],[0,"\n       "]],"start1":3222,"start2":3222,"length1":17,"length2":23}]],"length":4893,"saved":false}
{"ts":1378672577389,"patch":[[{"diffs":[[0,"e.trips["],[1,"0"],[0,"]\n      "]],"start1":3228,"start2":3228,"length1":16,"length2":17}]],"length":4894,"saved":false}
{"ts":1378672579430,"patch":[[{"diffs":[[0,"trips[0]"],[1,"."],[0,"\n       "]],"start1":3230,"start2":3230,"length1":16,"length2":17}]],"length":4895,"saved":false}
{"ts":1378672582047,"patch":[[{"diffs":[[0,"rips[0]."],[1,"addressA"],[0,"\n       "]],"start1":3231,"start2":3231,"length1":16,"length2":24}]],"length":4903,"saved":false}
{"ts":1378672583389,"patch":[[{"diffs":[[0,"addressA"],[1," = "],[0,"\n       "]],"start1":3239,"start2":3239,"length1":16,"length2":19}]],"length":4906,"saved":false}
{"ts":1378672595991,"patch":[[{"diffs":[[0,"ressA = "],[1,"$scope.waypoints[i].timestamp;"],[0,"\n       "]],"start1":3242,"start2":3242,"length1":16,"length2":46}]],"length":4936,"saved":false}
{"ts":1378672599197,"patch":[[{"diffs":[[0,"scope.waypoints["],[-1,"i"],[1,"0"],[0,"].timestamp;\n   "]],"start1":3251,"start2":3251,"length1":33,"length2":33}]],"length":4936,"saved":false}
{"ts":1378672601622,"patch":[[{"diffs":[[0,"nts[0].timestamp"],[1,"."],[0,";\n            fo"]],"start1":3263,"start2":3263,"length1":32,"length2":33}]],"length":4937,"saved":false}
{"ts":1378672606737,"patch":[[{"diffs":[[0,"mestamp."],[1,"toLocaleString()"],[0,";\n      "]],"start1":3272,"start2":3272,"length1":16,"length2":32}]],"length":4953,"saved":false}
{"ts":1378673511176,"patch":[[{"diffs":[[0,"LocaleString();\n"],[1,"            $scope.trips[trip_idx].addressB = current.toLocaleString();\n"],[0,"            cons"]],"start1":4305,"start2":4305,"length1":32,"length2":104}]],"length":5025,"saved":false}
{"ts":1378673514332,"patch":[[{"diffs":[[0,"scope.trips["],[-1,"trip_idx"],[1,"0"],[0,"].addressB ="]],"start1":4334,"start2":4334,"length1":32,"length2":25}]],"length":5018,"saved":false}
{"ts":1378673518796,"patch":[[{"diffs":[[0,"LocaleString();\n"],[1,"            \n"],[0,"            $sco"]],"start1":4305,"start2":4305,"length1":32,"length2":45}]],"length":5031,"saved":false}
{"ts":1378673522013,"patch":[[{"diffs":[[0,"length;\n"],[1,"                \n"],[0,"        "]],"start1":3203,"start2":3203,"length1":16,"length2":33}]],"length":5048,"saved":false}
{"ts":1378673523228,"patch":[[{"diffs":[[0,"th;\n            "],[-1,"    "],[0,"\n            $sc"]],"start1":3207,"start2":3207,"length1":36,"length2":32}]],"length":5044,"saved":false}
{"ts":1378673525671,"patch":[[{"diffs":[[0,"LocaleString();\n"],[1,"            \n"],[0,"            for "]],"start1":3295,"start2":3295,"length1":32,"length2":45}]],"length":5057,"saved":false}
{"ts":1378673527119,"patch":[[{"diffs":[[0,"();\n            "],[1,"/* i"],[0,"\n            for"]],"start1":3307,"start2":3307,"length1":32,"length2":36}]],"length":5061,"saved":false}
{"ts":1378673532022,"patch":[[{"diffs":[[0,"    /* i"],[1,"terate t"],[0,"\n       "]],"start1":3319,"start2":3319,"length1":16,"length2":24}]],"length":5069,"saved":false}
{"ts":1378673535969,"patch":[[{"diffs":[[0,"terate t"],[1,"rough waypoints */"],[0,"\n       "]],"start1":3327,"start2":3327,"length1":16,"length2":34}]],"length":5087,"saved":false}
{"ts":1378673540188,"patch":[[{"diffs":[[0,"th;\n            "],[1,"/* se"],[0,"\n            $sc"]],"start1":3207,"start2":3207,"length1":32,"length2":37}]],"length":5092,"saved":false}
{"ts":1378673541272,"patch":[[{"diffs":[[0,"   /* se"],[1,"t sta"],[0,"\n       "]],"start1":3220,"start2":3220,"length1":16,"length2":21}]],"length":5097,"saved":false}
{"ts":1378673544135,"patch":[[{"diffs":[[0," set sta"],[1,"rt boundary *"],[0,"\n       "]],"start1":3225,"start2":3225,"length1":16,"length2":29}]],"length":5110,"saved":false}
{"ts":1378673545213,"patch":[[{"diffs":[[0,"undary *"],[1,"/"],[0,"\n       "]],"start1":3238,"start2":3238,"length1":16,"length2":17}]],"length":5111,"saved":false}
{"ts":1378673550030,"patch":[[{"diffs":[[0,"            "],[1,"/* set "],[0,"\n           "]],"start1":4401,"start2":4401,"length1":24,"length2":31}]],"length":5118,"saved":false}
{"ts":1378673552174,"patch":[[{"diffs":[[0," /* set "],[1,"end "],[0,"\n       "]],"start1":4412,"start2":4412,"length1":16,"length2":20}]],"length":5122,"saved":false}
{"ts":1378673554882,"patch":[[{"diffs":[[0,"set end "],[1,"boundary */"],[0,"\n       "]],"start1":4416,"start2":4416,"length1":16,"length2":27}]],"length":5133,"saved":false}
{"ts":1378673808191,"patch":[[{"diffs":[[0,"ssB = current.to"],[-1,"Local"],[1,"Tim"],[0,"eString();\n     "]],"start1":3875,"start2":3875,"length1":37,"length2":35},{"diffs":[[0,"t.toTimeString()"],[1,".slice(0, 8)"],[0,";\n              "]],"start1":3887,"start2":3887,"length1":32,"length2":44}]],"length":5143,"saved":false}
{"ts":1378673824620,"patch":[[{"diffs":[[0,"idx].addressB = "],[1,"curr"],[0,"current.toTimeSt"]],"start1":3865,"start2":3865,"length1":32,"length2":36}]],"length":5147,"saved":false}
{"ts":1378673826859,"patch":[[{"diffs":[[0,"B = curr"],[1,"ent..toDateString()"],[0,"current."]],"start1":3877,"start2":3877,"length1":16,"length2":35}]],"length":5166,"saved":false}
{"ts":1378673827682,"patch":[[{"diffs":[[0,"ent."],[-1,".toDateString()"],[0,"curr"]],"start1":3885,"start2":3885,"length1":23,"length2":8}]],"length":5151,"saved":false}
{"ts":1378673828940,"patch":[[{"diffs":[[0,"current."],[1,"toDateString() "],[0,"current."]],"start1":3881,"start2":3881,"length1":16,"length2":31}]],"length":5166,"saved":false}
{"ts":1378673829594,"patch":[[{"diffs":[[0,"String()"],[1," +"],[0," current"]],"start1":3895,"start2":3895,"length1":16,"length2":18}]],"length":5168,"saved":false}
{"ts":1378673833721,"patch":[[{"diffs":[[0,"idx].addressB = "],[1,"\n                        "],[0,"current.toDateSt"]],"start1":3865,"start2":3865,"length1":32,"length2":57}]],"length":5193,"saved":false}
{"ts":1378673837526,"patch":[[{"diffs":[[0,"ring() +"],[1," ' '+"],[0," current"]],"start1":3922,"start2":3922,"length1":16,"length2":21}]],"length":5198,"saved":false}
{"ts":1378673838615,"patch":[[{"diffs":[[0,"() + ' '"],[1," "],[0,"+ curren"]],"start1":3926,"start2":3926,"length1":16,"length2":17}]],"length":5199,"saved":false}
{"ts":1378673855018,"patch":[[{"diffs":[[0,"essA: current.to"],[-1,"Local"],[1,"Dat"],[0,"eString()\n      "]],"start1":4220,"start2":4220,"length1":37,"length2":35},{"diffs":[[0,"String()"],[1," + ' ' + current.toTimeString().slice(0, 8);"],[0,"\n       "]],"start1":4240,"start2":4240,"length1":16,"length2":60}]],"length":5241,"saved":false}
{"ts":1378673923527,"patch":[[{"diffs":[[0,"\n        };\n"],[1,"    \n"],[0,"    angular."]],"start1":1387,"start2":1387,"length1":24,"length2":29}]],"length":5246,"saved":false}
{"ts":1378673924263,"patch":[[{"diffs":[[0,"     };\n    "],[1,"Date"],[0,"\n    angular"]],"start1":1391,"start2":1391,"length1":24,"length2":28}]],"length":5250,"saved":false}
{"ts":1378673927998,"patch":[[{"diffs":[[0,"    Date"],[1,".prototype."],[0,"\n    ang"]],"start1":1399,"start2":1399,"length1":16,"length2":27}]],"length":5261,"saved":false}
{"ts":1378673932402,"patch":[[{"diffs":[[0,"ototype."],[1,"time"],[0,"\n    ang"]],"start1":1410,"start2":1410,"length1":16,"length2":20}]],"length":5265,"saved":false}
{"ts":1378673935808,"patch":[[{"diffs":[[0,"ototype."],[-1,"time"],[0,"\n    ang"]],"start1":1410,"start2":1410,"length1":20,"length2":16}]],"length":5261,"saved":false}
{"ts":1378673939915,"patch":[[{"diffs":[[0,"ototype."],[1,"get"],[0,"\n    ang"]],"start1":1410,"start2":1410,"length1":16,"length2":19}]],"length":5264,"saved":false}
{"ts":1378673942622,"patch":[[{"diffs":[[0,"ototype."],[-1,"get"],[1,"toM"],[0,"\n    ang"]],"start1":1410,"start2":1410,"length1":19,"length2":19}]],"length":5264,"saved":false}
{"ts":1378673943467,"patch":[[{"diffs":[[0,"type.toM"],[1,"y"],[0,"\n    ang"]],"start1":1413,"start2":1413,"length1":16,"length2":17}]],"length":5265,"saved":false}
{"ts":1378673947452,"patch":[[{"diffs":[[0,"ype.toMy"],[1,"Ti"],[0,"\n    ang"]],"start1":1414,"start2":1414,"length1":16,"length2":18}]],"length":5267,"saved":false}
{"ts":1378673948621,"patch":[[{"diffs":[[0,"ype.toMy"],[-1,"Ti"],[0,"\n    ang"]],"start1":1414,"start2":1414,"length1":18,"length2":16}]],"length":5265,"saved":false}
{"ts":1378673949889,"patch":[[{"diffs":[[0,"type.toM"],[1,"t"],[0,"y\n    an"]],"start1":1413,"start2":1413,"length1":16,"length2":17}]],"length":5266,"saved":false}
{"ts":1378673951936,"patch":[[{"diffs":[[0,"type.toM"],[-1,"t"],[0,"y"],[1,"S"],[0,"\n    ang"]],"start1":1413,"start2":1413,"length1":18,"length2":18}]],"length":5266,"saved":false}
{"ts":1378673953617,"patch":[[{"diffs":[[0,"pe.toMyS"],[1,"tring()"],[0,"\n    ang"]],"start1":1415,"start2":1415,"length1":16,"length2":23}]],"length":5273,"saved":false}
{"ts":1378673954219,"patch":[[{"diffs":[[0,"MyString"],[-1,"()"],[0,"\n    ang"]],"start1":1420,"start2":1420,"length1":18,"length2":16}]],"length":5271,"saved":false}
{"ts":1378673958520,"patch":[[{"diffs":[[0,"MyString"],[1," = function ()"],[0,"\n    ang"]],"start1":1420,"start2":1420,"length1":16,"length2":30}]],"length":5285,"saved":false}
{"ts":1378673960040,"patch":[[{"diffs":[[0,"ction ()"],[1," {\n        \n    }"],[0,"\n    ang"]],"start1":1434,"start2":1434,"length1":16,"length2":33}]],"length":5302,"saved":false}
{"ts":1378673964006,"patch":[[{"diffs":[[0,") {\n        "],[1,"retunr"],[0,"\n    }\n    a"]],"start1":1441,"start2":1441,"length1":24,"length2":30}]],"length":5308,"saved":false}
{"ts":1378673966449,"patch":[[{"diffs":[[0,"retu"],[-1,"n"],[0,"r"],[1,"n"],[0,"\n   "]],"start1":1453,"start2":1453,"length1":10,"length2":10}]],"length":5308,"saved":false}
{"ts":1378673968256,"patch":[[{"diffs":[[0,"  return"],[1,";"],[0,"\n    }\n "]],"start1":1451,"start2":1451,"length1":16,"length2":17}]],"length":5309,"saved":false}
{"ts":1378673983068,"patch":[[{"diffs":[[0,"      return"],[1," current.toDateString() + ' ' + current.toTimeString().slice(0, 8)"],[0,";\n    }\n    "]],"start1":1447,"start2":1447,"length1":24,"length2":90}]],"length":5375,"saved":false}
{"ts":1378673985404,"patch":[[{"diffs":[[0," return "],[-1,"current"],[1,"this"],[0,".toDateS"]],"start1":1452,"start2":1452,"length1":23,"length2":20}]],"length":5372,"saved":false}
{"ts":1378673988226,"patch":[[{"diffs":[[0,"tring() + ' ' + "],[-1,"current"],[1,"this"],[0,".toTimeString()."]],"start1":1472,"start2":1472,"length1":39,"length2":36}]],"length":5369,"saved":false}
{"ts":1378674004154,"patch":[[{"diffs":[[0,"ent."],[-1,"toDateString() + ' ' + current.toTimeString().slice(0, 8"],[1,".toMyString("],[0,");\n "]],"start1":4358,"start2":4358,"length1":64,"length2":20}]],"length":5325,"saved":false}
{"ts":1378674009387,"patch":[[{"diffs":[[0,"B = "],[-1,"\n                        current.toDateString() + ' ' + current.toTimeString().slice(0, 8)"],[1,".toMyString"],[0,";\n  "]],"start1":4005,"start2":4005,"length1":98,"length2":19}]],"length":5246,"saved":false}
{"ts":1378674010484,"patch":[[{"diffs":[[0,"MyString"],[1,"()"],[0,";\n      "]],"start1":4012,"start2":4012,"length1":16,"length2":18}]],"length":5248,"saved":false}
{"ts":1378674014842,"patch":[[{"diffs":[[0,"ressB = "],[1,"current"],[0,".toMyStr"]],"start1":4001,"start2":4001,"length1":16,"length2":23}]],"length":5255,"saved":false}
{"ts":1378674020607,"patch":[[{"diffs":[[0,"ssB = current.to"],[-1,"Locale"],[1,"My"],[0,"String();\n      "]],"start1":4591,"start2":4591,"length1":38,"length2":34}]],"length":5251,"saved":false}
{"ts":1378674025138,"patch":[[{"diffs":[[0,"rrent.to"],[-1,"Locale"],[1,"My"],[0,"String()"]],"start1":4499,"start2":4499,"length1":22,"length2":18}]],"length":5247,"saved":false}
{"ts":1378674095125,"patch":[[{"diffs":[[0,"nt..toMyString()"],[-1,";"],[0,"\n               "]],"start1":4289,"start2":4289,"length1":33,"length2":32}]],"length":5246,"saved":false}
{"ts":1378674098283,"patch":[[{"diffs":[[0,"current."],[-1,"."],[0,"toMyStri"]],"start1":4284,"start2":4284,"length1":17,"length2":16}]],"length":5245,"saved":false}
{"ts":1378674188668,"patch":[[{"diffs":[[0,"p.to"],[-1,"Locale"],[1,"My"],[0,"Stri"]],"start1":3443,"start2":3443,"length1":14,"length2":10}]],"length":5241,"saved":false}
{"ts":1378674306913,"patch":[[{"diffs":[[0,"lice(0, "],[-1,"8"],[1,"5"],[0,");\n    }"]],"start1":1509,"start2":1509,"length1":17,"length2":17}]],"length":5241,"saved":false}
{"ts":1378674385525,"patch":[[{"diffs":[[0,"his."],[-1,"toDateString"],[1,"get"],[0,"() +"]],"start1":1461,"start2":1461,"length1":20,"length2":11}]],"length":5232,"saved":false}
{"ts":1378674388030,"patch":[[{"diffs":[[0,"this.get"],[1,"Date"],[0,"() + ' '"]],"start1":1460,"start2":1460,"length1":16,"length2":20}]],"length":5236,"saved":false}
{"ts":1378674391061,"patch":[[{"diffs":[[0,"Date() +"],[1," '.' +"],[0," ' ' + t"]],"start1":1468,"start2":1468,"length1":16,"length2":22}]],"length":5242,"saved":false}
{"ts":1378674393205,"patch":[[{"diffs":[[0," + '.' +"],[1," thi +"],[0," ' ' + t"]],"start1":1474,"start2":1474,"length1":16,"length2":22}]],"length":5248,"saved":false}
{"ts":1378674394313,"patch":[[{"diffs":[[0,".' + thi"],[1,"s"],[0," + ' ' +"]],"start1":1478,"start2":1478,"length1":16,"length2":17}]],"length":5249,"saved":false}
{"ts":1378674396220,"patch":[[{"diffs":[[0,"' + this"],[1,".get"],[0," + ' ' +"]],"start1":1479,"start2":1479,"length1":16,"length2":20}]],"length":5253,"saved":false}
{"ts":1378674398146,"patch":[[{"diffs":[[0,"this.get"],[1,"Date()"],[0," + ' ' +"]],"start1":1483,"start2":1483,"length1":16,"length2":22}]],"length":5259,"saved":false}
{"ts":1378674400949,"patch":[[{"diffs":[[0,"' + this.get"],[-1,"Date"],[1,"Month"],[0,"() + ' ' + t"]],"start1":1479,"start2":1479,"length1":28,"length2":29}]],"length":5260,"saved":false}
{"ts":1378674406065,"patch":[[{"diffs":[[0,") + '.' "],[1,"\n            "],[0,"+ this.g"]],"start1":1473,"start2":1473,"length1":16,"length2":29}]],"length":5273,"saved":false}
{"ts":1378674408807,"patch":[[{"diffs":[[0,"Month() "],[1,"\n            "],[0,"+ ' ' + "]],"start1":1504,"start2":1504,"length1":16,"length2":29}]],"length":5286,"saved":false}
{"ts":1378674410603,"patch":[[{"diffs":[[0,"Month() "],[-1,"\n            "],[0,"+ ' ' + "]],"start1":1504,"start2":1504,"length1":29,"length2":16}]],"length":5273,"saved":false}
{"ts":1378674412940,"patch":[[{"diffs":[[0,"() + ' '"],[1,"\n           "],[0," + this."]],"start1":1509,"start2":1509,"length1":16,"length2":28}]],"length":5285,"saved":false}
{"ts":1378674938746,"patch":[[{"diffs":[[0,"th() + '"],[1,"."],[0," '\n     "]],"start1":1507,"start2":1507,"length1":16,"length2":17}]],"length":5286,"saved":false}
{"contributors":[],"silentsave":true,"ts":1379193315546,"patch":[[{"diffs":[[0,"s', [])\n"],[1,"  "],[0,"  .contr"]],"start1":65,"start2":65,"length1":16,"length2":18},{"diffs":[[0,"roller('"],[-1,"clock"],[1,"query"],[0,"Ctrl', ["]],"start1":82,"start2":82,"length1":21,"length2":21},{"diffs":[[0,"', '"],[-1,"socket',function ($s"],[1,"$rootS"],[0,"cope"],[1,"'"],[0,", "],[-1,"socket) {\n    socket.on('clock', function (time) {\n      $scope.time = time;\n    });\n  }])\n  .controller('queryCtrl', function ($scope"],[1,"'socket', function ($scope, $root"],[0,", so"]],"start1":110,"start2":110,"length1":168,"length2":54},{"diffs":[[0,", socket) {\n"],[1,"    "],[0,"    $scope.e"]],"start1":160,"start2":160,"length1":24,"length2":28},{"diffs":[[0,"Date();\n    "],[1,"  "],[1,"  "],[0,"$scope.start"]],"start1":202,"start2":202,"length1":24,"length2":28},{"diffs":[[0," * 24);\n"],[1,"    "],[0,"    sock"]],"start1":276,"start2":276,"length1":16,"length2":20},{"diffs":[[0," () {\n      "],[1,"    "],[0,"socket.emit("]],"start1":321,"start2":321,"length1":24,"length2":28},{"diffs":[[0,"list');\n    "],[1," "],[1,"   "],[0,"});\n"],[1,"    "],[0,"    socket.o"]],"start1":360,"start2":360,"length1":28,"length2":36},{"diffs":[[0,"st) {\n      "],[1,"    "],[0,"$scope.list "]],"start1":424,"start2":424,"length1":24,"length2":28},{"diffs":[[0,"st;\n    "],[1," "],[-1,"})\n"],[1,"   })\n    "],[0,"    $sco"]],"start1":456,"start2":456,"length1":19,"length2":27},{"diffs":[[0," () {\n      "],[1,"    "],[1,"  "],[0,"if (!$scope."]],"start1":513,"start2":513,"length1":24,"length2":30},{"diffs":[[0,") {\n        "],[-1,"console.log"],[1,"        $root.message"],[0,"('[queryCtrl"]],"start1":549,"start2":549,"length1":35,"length2":45},{"diffs":[[0,"selected');\n"],[1,"        "],[0,"        retu"]],"start1":606,"start2":606,"length1":24,"length2":32},{"diffs":[[0,"turn;\n      "],[1,"  "],[1,"    "],[0,"}\n"],[1,"        "],[0,"    var star"]],"start1":636,"start2":636,"length1":26,"length2":40},{"diffs":[[0,"start_date,\n"],[1,"            "],[0,"    end_date"]],"start1":692,"start2":692,"length1":24,"length2":36},{"diffs":[[0,"e.end_date,\n"],[1,"            "],[0,"    module_i"]],"start1":736,"start2":736,"length1":24,"length2":36},{"diffs":[[0,"    "],[1,"      "],[0,"\n      "],[-1,"console.log('[queryCtrl] query %s: from %s to %s', module_id, start_date, end_date);\n"],[1,"      $root.message('Searching between', start_date.toLocaleString(), '...', end_date.toLocaleString(), 'for module', module_id);\n    "],[0,"    "]],"start1":803,"start2":803,"length1":100,"length2":155},{"diffs":[[0,"    "],[-1,"}\n"],[1,"    }\n  "],[0,"  }"],[1,"]"],[0,")\n"],[1,"  "],[0,"  .c"]],"start1":1069,"start2":1069,"length1":15,"length2":24},{"diffs":[[0,", ['$scope',"],[1," '$rootScope',"],[0," 'socket', f"]],"start1":1112,"start2":1112,"length1":24,"length2":38},{"diffs":[[0,"($scope,"],[1," $root,"],[0," socket)"]],"start1":1158,"start2":1158,"length1":16,"length2":23},{"diffs":[[0,", socket) {\n"],[1,"    "],[0,"    var now,"]],"start1":1172,"start2":1172,"length1":24,"length2":28},{"diffs":[[0,"    "],[-1,"    trip_idx,\n        first,\n        last,\n        parking_time = 300 * 1000, /* 5mins */\n"],[0,"    "]],"start1":1201,"start2":1201,"length1":98,"length2":8},{"diffs":[[0,"= function () {\n"],[1,"    "],[0,"            now "]],"start1":1223,"start2":1223,"length1":32,"length2":36},{"diffs":[[0,"    "],[-1,"        trip_idx = 0;\n"],[0,"    "]],"start1":1285,"start2":1285,"length1":30,"length2":8},{"diffs":[[0,"waypoints = [];\n"],[1,"    "],[0,"            $sco"]],"start1":1308,"start2":1308,"length1":32,"length2":36},{"diffs":[[0,"    "],[-1,"};\n"],[0,"    "],[-1,"Date.prototype.toMyString = function () {\n        return this.getDate() + '.' \n            + this.getMonth() + '. '\n            + this.toTimeString().slice(0, 5);"],[1,"},\n            detect_trips = new Worker('js/detect_trips.js');\n            "],[0,"\n    "],[-1,"}\n"],[0,"    "]],"start1":1363,"start2":1363,"length1":184,"length2":93},{"diffs":[[0,"cope, {\n"],[1,"    "],[0,"        "]],"start1":1473,"start2":1473,"length1":16,"length2":20},{"diffs":[[0,"        "],[1,"    "],[0,"lat: 56."]],"start1":1503,"start2":1503,"length1":16,"length2":20},{"diffs":[[0,"        "],[1," "],[1,"   "],[0,"lng: 24."]],"start1":1531,"start2":1531,"length1":16,"length2":20},{"diffs":[[0,"        "],[1,"   "],[1," "],[0,"zoom: 12"]],"start1":1559,"start2":1559,"length1":16,"length2":20},{"diffs":[[0,"oom: 12\n        "],[1,"    "],[0,"},\n        marke"]],"start1":1572,"start2":1572,"length1":32,"length2":36},{"diffs":[[0,"        "],[1," "],[1,"   "],[0,"markers:"]],"start1":1595,"start2":1595,"length1":16,"length2":20},{"diffs":[[0,"        "],[1,"   "],[1," "],[0,"paths: {"]],"start1":1620,"start2":1620,"length1":16,"length2":20},{"diffs":[[0," paths: {},\n"],[1,"    "],[0,"        defa"]],"start1":1631,"start2":1631,"length1":24,"length2":28},{"diffs":[[0,"        "],[1,"    "],[0,"doubleCl"]],"start1":1671,"start2":1671,"length1":16,"length2":20},{"diffs":[[0,"        "],[1,"    "],[0,"maxZoom:"]],"start1":1711,"start2":1711,"length1":16,"length2":20},{"diffs":[[0,"oom: 18\n"],[1,"    "],[0,"        "]],"start1":1727,"start2":1727,"length1":16,"length2":20},{"diffs":[[0,"      }\n    "],[-1,"});\n"],[1,"    });\n    "],[0,"    /* Initi"]],"start1":1741,"start2":1741,"length1":28,"length2":36},{"diffs":[[0,"bles */\n    "],[1,"   "],[1," "],[0,"init_vars();"]],"start1":1788,"start2":1788,"length1":24,"length2":28},{"diffs":[[0,"nit_vars();\n"],[1,"    "],[0,"    $scope.n"]],"start1":1805,"start2":1805,"length1":24,"length2":28},{"diffs":[[0,"ue;\n    "],[1," "],[1,"   "],[0,"/* Query"]],"start1":1849,"start2":1849,"length1":16,"length2":20},{"diffs":[[0,"ints */\n    "],[1,"   "],[1," "],[0,"socket.on('q"]],"start1":1875,"start2":1875,"length1":24,"length2":28},{"diffs":[[0,") {\n        "],[1,"    "],[0,"var overall;"]],"start1":1937,"start2":1937,"length1":24,"length2":28},{"diffs":[[0,"ar overall;\n"],[1,"    "],[0,"        if($"]],"start1":1954,"start2":1954,"length1":24,"length2":28},{"diffs":[[0,") {\n            "],[1,"  "],[1,"  "],[0,"init_vars()\n    "]],"start1":2000,"start2":2000,"length1":32,"length2":36},{"diffs":[[0,"_vars()\n"],[1,"    "],[0,"        "]],"start1":2024,"start2":2024,"length1":16,"length2":20},{"diffs":[[0,"    "],[-1,"$scope.trips[0] = {};\n            $scope.trips[0].addressA = '';\n            $scope.trips[0].addressB = '';\n            $scope.trips[0].start = now;\n            $scope.trips[0].end = now;\n        }\n        /* Receive waypoint */\n        overall = $scope.trips[0];\n        overall.start = Math.min(waypoint.timestamp, overall.start);\n        overall.end = Math.max(waypoint.timestamp, overall.end);\n        waypoint.timestamp = new Date(waypoint.timestamp); /* convert to date */\n"],[1,"}\n            /* Receive waypoint */\n            waypoint.timestamp = new Date(waypoint.timestamp); /* convert to date */\n            waypoint.\n    "],[0,"    "]],"start1":2085,"start2":2085,"length1":487,"length2":156},{"diffs":[[0," false;\n        "],[1,"    "],[0,"waypoint.address"]],"start1":2268,"start2":2268,"length1":32,"length2":36},{"diffs":[[0,"= null;\n        "],[1," "],[1,"   "],[0,"$scope.waypoints"]],"start1":2305,"start2":2305,"length1":32,"length2":36},{"diffs":[[0,"point);\n    "],[1,"   "],[1," "],[0,"});\n"],[1,"    "],[0,"    socket.o"]],"start1":2350,"start2":2350,"length1":28,"length2":36},{"diffs":[[0,"        "],[1," "],[-1,"console.log"],[1,"   $root.message"],[0,"('Found'"]],"start1":2420,"start2":2420,"length1":27,"length2":33},{"diffs":[[0,"aypoints');\n"],[1,"    "],[0,"        $sco"]],"start1":2464,"start2":2464,"length1":24,"length2":28},{"diffs":[[0,"        "],[1,"    "],[0,"/* Sort "]],"start1":2516,"start2":2516,"length1":16,"length2":20},{"diffs":[[0,"rt waypoints */\n"],[1,"    "],[0,"        $scope.w"]],"start1":2533,"start2":2533,"length1":32,"length2":36},{"diffs":[[0,") {\n            "],[1,"   "],[1," "],[0,"if (a.timestamp "]],"start1":2597,"start2":2597,"length1":32,"length2":36},{"diffs":[[0,"            "],[1,"    "],[0,"return 1;\n  "]],"start1":2654,"start2":2654,"length1":24,"length2":28},{"diffs":[[0," 1;\n            "],[-1,"}\n"],[1,"    }\n   "],[0,"            if ("]],"start1":2676,"start2":2676,"length1":34,"length2":41},{"diffs":[[0,"\n               "],[1," "],[0,"if (a.timestamp "]],"start1":2697,"start2":2697,"length1":32,"length2":33},{"diffs":[[0,"    "],[-1,"       return -1;\n            }\n"],[0,"    "]],"start1":2752,"start2":2752,"length1":40,"length2":8},{"diffs":[[0,"    "],[-1," "],[0,"return "],[-1,"0"],[1,"-1"],[0,";\n  "]],"start1":2763,"start2":2763,"length1":17,"length2":17},{"diffs":[[0,"    "],[-1,"});\n"],[0,"        "],[-1,"/* Detect trip */\n        (function () {\n            var i,\n                trip_idx = 1,\n                previous,\n                current,\n                now = (new Date()).valueOf(),\n                length = $scope.waypoints.length;\n            /* set start boundary */\n            $scope.trips[0].addressA = $scope.waypoints[0].timestamp.toMyString();\n            /* iterate trough waypoints */\n            for (i = 0; i < length; i += 1) {\n                previous = ($scope.waypoints[i - 1] || $scope.waypoints[i]).timestamp;\n                current = "],[1,"}\n                return 0;\n            });\n            /* Detect trip */\n            detect_trips.postMessage("],[0,"$sco"]],"start1":2782,"start2":2782,"length1":579,"length2":127},{"diffs":[[0,"ints"],[-1,"[i].timestamp"],[1,")"],[0,";\n  "]],"start1":2917,"start2":2917,"length1":21,"length2":9},{"diffs":[[0,"    "],[-1,"    if (current - previous > parking_time) {\n                    if ($scope.trips[trip_idx].end === $scope.trips[trip_idx].start) {\n                        continue;\n                    }\n                    $scope.trips[trip_idx].end = previous;\n                    $scope.trips[trip_idx].addressB = current.toMyString();\n                    trip_idx += 1;\n                }\n                if (!$scope.trips[trip_idx]) {\n                    $scope.trips[trip_idx] = {\n                        start: current,\n                        end: 0,\n                        addressA: current.toMyString()\n                    };\n                }\n            }\n            /* Append last waypoint */\n            $scope.trips[trip_idx].end = current;\n            $scope.trips[trip_idx].addressB = current.toMyString();\n            /* set end boundary */\n            $scope.trips[0].addressB = current.toMyString();\n            console.log"],[1,"detect_trips.onmessage = function (event) {\n                $scope.trips = event.data;\n                $root.message"],[0,"('De"]],"start1":2932,"start2":2932,"length1":936,"length2":124},{"diffs":[[0,"');\n            "],[1,"    "],[0,"$scope.$digest()"]],"start1":3096,"start2":3096,"length1":32,"length2":36},{"diffs":[[0,"igest();"],[1," /* make sure model is updated */"],[0,"\n       "]],"start1":3125,"start2":3125,"length1":16,"length2":49},{"diffs":[[0,"    "],[-1,"}) ();\n"],[0,"    "]],"start1":3171,"start2":3171,"length1":15,"length2":8},{"diffs":[[0,"rips');\n    "],[-1,"});\n"],[1,"        }\n        });\n    "],[0,"    /* Get a"]],"start1":3211,"start2":3211,"length1":28,"length2":50},{"diffs":[[0,"ates */\n    "],[1,"  "],[1,"  "],[0,"$scope.reque"]],"start1":3279,"start2":3279,"length1":24,"length2":28},{"diffs":[[0," (coords) {\n"],[1,"    "],[0,"        sock"]],"start1":3327,"start2":3327,"length1":24,"length2":28},{"diffs":[[0,"', coords);\n"],[1,"    "],[0,"    };\n    s"]],"start1":3375,"start2":3375,"length1":24,"length2":28},{"diffs":[[0,"     };\n    "],[1," "],[1,"   "],[0,"socket.on('r"]],"start1":3390,"start2":3390,"length1":24,"length2":28},{"diffs":[[0,"onse) {\n        "],[1,"   "],[1," "],[0,"angular.forEach("]],"start1":3448,"start2":3448,"length1":32,"length2":36},{"diffs":[[0,"            "],[1,"    "],[0,"if (waypoint"]],"start1":3531,"start2":3531,"length1":24,"length2":28},{"diffs":[[0,"        "],[1," "],[1,"     "],[0,"|| waypo"]],"start1":3587,"start2":3587,"length1":16,"length2":22},{"diffs":[[0,"                "],[1,"    "],[0,"waypoint.address"]],"start1":3639,"start2":3639,"length1":32,"length2":36},{"diffs":[[0,"ddress;\n"],[1,"  "],[0,"        "]],"start1":3688,"start2":3688,"length1":16,"length2":18},{"diffs":[[0,"        });\n"],[1,"        socket.on('update-waypoint', function (waypoint) {\n            $scope.markers[waypoint.module_id] = {\n                lat: waypoint.lat,\n                lng: waypoint.long\n            }\n        })\n"],[0,"    }])"]],"start1":3730,"start2":3730,"length1":19,"length2":224}]],"length":3954,"saved":false}
{"ts":1379193315838,"patch":[[{"diffs":[[0,"aypoint."],[1,"ti"],[0,"\n       "]],"start1":2224,"start2":2224,"length1":16,"length2":18}]],"length":3956,"saved":false}
{"ts":1379193316458,"patch":[[{"diffs":[[0,"point.ti"],[1,"me"],[0,"\n       "]],"start1":2226,"start2":2226,"length1":16,"length2":18}]],"length":3958,"saved":false}
{"ts":1379193318613,"patch":[[{"diffs":[[0,"int.time"],[1," = "],[0,"\n       "]],"start1":2228,"start2":2228,"length1":16,"length2":19}]],"length":3961,"saved":false}
{"ts":1379193325374,"patch":[[{"diffs":[[0,".time = "],[1,"waypoint.timestamp"],[0,"\n       "]],"start1":2231,"start2":2231,"length1":16,"length2":34}]],"length":3979,"saved":false}
{"ts":1379193326525,"patch":[[{"diffs":[[0,"imestamp"],[1,"."],[0,"\n       "]],"start1":2249,"start2":2249,"length1":16,"length2":17}]],"length":3980,"saved":false}
{"ts":1379193328759,"patch":[[{"diffs":[[0,"mestamp."],[1,"to"],[0,"\n       "]],"start1":2250,"start2":2250,"length1":16,"length2":18}]],"length":3982,"saved":false}
{"ts":1379193331017,"patch":[[{"diffs":[[0,"stamp.to"],[1,"Locale"],[0,"\n       "]],"start1":2252,"start2":2252,"length1":16,"length2":22}]],"length":3988,"saved":false}
{"ts":1379193332503,"patch":[[{"diffs":[[0,"toLocale"],[1,"TimeString()"],[0,"\n       "]],"start1":2258,"start2":2258,"length1":16,"length2":28}]],"length":4000,"saved":false}
{"ts":1379193333365,"patch":[[{"diffs":[[0,"String()"],[1,";"],[0,"\n       "]],"start1":2270,"start2":2270,"length1":16,"length2":17}]],"length":4001,"saved":false}
{"ts":1379235314745,"patch":[[{"diffs":[[0,"    "],[-1,"angular.forEach($scope.waypoints, function (waypoint, index) {\n                if (waypoint.lat === response.lat\n                    || waypoint.long === response.long) {\n                    waypoint.address = response.address;\n                }\n            });"],[0,"\n   "]],"start1":3511,"start2":3511,"length1":269,"length2":8}]],"length":3740,"saved":false}
{"ts":1379235316004,"patch":[[{"diffs":[[0,") {\n            "],[1,"$scope"],[0,"\n        });\n   "]],"start1":3499,"start2":3499,"length1":32,"length2":38}]],"length":3746,"saved":false}
{"ts":1379235317687,"patch":[[{"diffs":[[0,"  $scope"],[1,".br"],[0,"\n       "]],"start1":3513,"start2":3513,"length1":16,"length2":19}]],"length":3749,"saved":false}
{"ts":1379235318902,"patch":[[{"diffs":[[0,"scope.br"],[1,"oadca"],[0,"\n       "]],"start1":3516,"start2":3516,"length1":16,"length2":21}]],"length":3754,"saved":false}
{"ts":1379235320484,"patch":[[{"diffs":[[0,".broadca"],[1,"st()"],[0,"\n       "]],"start1":3521,"start2":3521,"length1":16,"length2":20}]],"length":3758,"saved":false}
{"ts":1379235322845,"patch":[[{"diffs":[[0," $scope."],[1,"$"],[0,"broadcas"]],"start1":3514,"start2":3514,"length1":16,"length2":17}]],"length":3759,"saved":false}
{"ts":1379235325464,"patch":[[{"diffs":[[0,"oadcast("],[1,"'resu'"],[0,")\n      "]],"start1":3525,"start2":3525,"length1":16,"length2":22}]],"length":3765,"saved":false}
{"ts":1379235326290,"patch":[[{"diffs":[[0,"st('resu"],[1,"lt"],[0,"')\n     "]],"start1":3530,"start2":3530,"length1":16,"length2":18}]],"length":3767,"saved":false}
{"ts":1379235328045,"patch":[[{"diffs":[[0,"('result"],[1,"-addrs"],[0,"')\n     "]],"start1":3532,"start2":3532,"length1":16,"length2":22}]],"length":3773,"saved":false}
{"ts":1379235328999,"patch":[[{"diffs":[[0,"ult-addr"],[-1,"s"],[0,"')\n     "]],"start1":3537,"start2":3537,"length1":17,"length2":16}]],"length":3772,"saved":false}
{"ts":1379235331831,"patch":[[{"diffs":[[0,"ult-addr"],[1,"ess"],[0,"')\n     "]],"start1":3537,"start2":3537,"length1":16,"length2":19}]],"length":3775,"saved":false}
{"ts":1379235490459,"patch":[[{"diffs":[[0,"address'"],[1,", response"],[0,")\n      "]],"start1":3541,"start2":3541,"length1":16,"length2":26}]],"length":3785,"saved":false}
{"ts":1379235492649,"patch":[[{"diffs":[[0,"esponse)"],[1,";"],[0,"\n       "]],"start1":3552,"start2":3552,"length1":16,"length2":17}]],"length":3786,"saved":false}
{"ts":1379237466275,"patch":[[{"diffs":[[0,"ect trip */\n"],[1,"            $root.message('Found', count, 'waypoints');\n"],[0,"            "]],"start1":2903,"start2":2903,"length1":24,"length2":80}]],"length":3842,"saved":false}
{"ts":1379237473050,"patch":[[{"diffs":[[0,"ge('"],[-1,"Found', count, 'waypoints"],[1,"Calculating"],[0,"');\n"]],"start1":2938,"start2":2938,"length1":33,"length2":19}]],"length":3828,"saved":false}
{"ts":1379237474959,"patch":[[{"diffs":[[0,"culating"],[1,"..."],[0,"');\n    "]],"start1":2945,"start2":2945,"length1":16,"length2":19}]],"length":3831,"saved":false}
{"ts":1379237844582,"patch":[[{"diffs":[[0,"eceiving) {\n"],[1,"                $root.message('Found', count, 'waypoints');\n"],[0,"            "]],"start1":1992,"start2":1992,"length1":24,"length2":84}]],"length":3891,"saved":false}
{"ts":1379237853153,"patch":[[{"diffs":[[0,"ge('"],[-1,"Found', count, 'waypoints'"],[1,"Receiving"],[0,");\n "]],"start1":2031,"start2":2031,"length1":34,"length2":17}]],"length":3874,"saved":false}
{"ts":1379237854456,"patch":[[{"diffs":[[0,"eceiving"],[1,"'"],[0,");\n     "]],"start1":2036,"start2":2036,"length1":16,"length2":17}]],"length":3875,"saved":false}
{"ts":1379237855812,"patch":[[{"diffs":[[0,"eceiving"],[1,"..."],[0,"');\n    "]],"start1":2036,"start2":2036,"length1":16,"length2":19}]],"length":3878,"saved":false}
{"ts":1379238985879,"patch":[[{"diffs":[[0,") {\n"],[-1,"            var overall;\n"],[0,"    "]],"start1":1937,"start2":1937,"length1":33,"length2":8}]],"length":3853,"saved":false}
{"ts":1379256171520,"patch":[[{"diffs":[[0,"ceiving = true;\n"],[1,"            \n"],[0,"            /* S"]],"start1":2569,"start2":2569,"length1":32,"length2":45}]],"length":3866,"saved":false}
{"ts":1379256174822,"patch":[[{"diffs":[[0,"ue;\n            "],[1,"if (count ==)"],[0,"\n            /* "]],"start1":2581,"start2":2581,"length1":32,"length2":45}]],"length":3879,"saved":false}
{"ts":1379256176849,"patch":[[{"diffs":[[0,"count =="],[1,"= 0"],[0,")\n      "]],"start1":2601,"start2":2601,"length1":16,"length2":19}]],"length":3882,"saved":false}
{"ts":1379256179831,"patch":[[{"diffs":[[0,"t === 0)"],[1," {\n                \n            }"],[0,"\n       "]],"start1":2605,"start2":2605,"length1":16,"length2":49}]],"length":3915,"saved":false}
{"ts":1379256183713,"patch":[[{"diffs":[[0,"0) {"],[-1,"\n                \n            }"],[1," re"],[0,"\n   "]],"start1":2611,"start2":2611,"length1":39,"length2":11}]],"length":3887,"saved":false}
{"ts":1379256185338,"patch":[[{"diffs":[[0," 0) { re"],[1,"turn;"],[0,"\n       "]],"start1":2610,"start2":2610,"length1":16,"length2":21}]],"length":3892,"saved":false}
{"ts":1379256186808,"patch":[[{"diffs":[[0,"=== 0) { return;"],[1," }"],[0,"\n            /* "]],"start1":2607,"start2":2607,"length1":32,"length2":34}]],"length":3894,"saved":false}
{"ts":1379261896842,"patch":[[{"diffs":[[0,"            });\n"],[1,"            getIndex = function (request_waypoint) {\n                    var i, len = this.length;\n                    for (i = 0; i < len; i += 1) {\n                        waypoint = this[i];\n                        if (waypoint.lat === request_waypoint.lat\n                            || waypoint.long === request_waypoint.long) {\n                            return i;\n                        }\n                    }\n                };\n"],[0,"            /* D"]],"start1":2932,"start2":2932,"length1":32,"length2":471}]],"length":4333,"saved":false}
{"ts":1379261902481,"patch":[[{"diffs":[[0,"        "],[1,"$scope.way"],[0,"getIndex"]],"start1":2952,"start2":2952,"length1":16,"length2":26}]],"length":4343,"saved":false}
{"ts":1379261905106,"patch":[[{"diffs":[[0,".way"],[-1,"getIndex"],[1,"points"],[0," = f"]],"start1":2966,"start2":2966,"length1":16,"length2":14}]],"length":4341,"saved":false}
{"ts":1379261907234,"patch":[[{"diffs":[[0,"ope.wayp"],[-1,"oints"],[1,"getIndex"],[0," = funct"]],"start1":2963,"start2":2963,"length1":21,"length2":24}]],"length":4344,"saved":false}
{"ts":1379261910230,"patch":[[{"diffs":[[0,"ope.wayp"],[1," "],[0,"getIndex"]],"start1":2963,"start2":2963,"length1":16,"length2":17}]],"length":4345,"saved":false}
{"ts":1379261913132,"patch":[[{"diffs":[[0,"ope.wayp"],[1,"oints."],[0," getInde"]],"start1":2963,"start2":2963,"length1":16,"length2":22}]],"length":4351,"saved":false}
{"ts":1379261915086,"patch":[[{"diffs":[[0,"ypoints."],[-1," "],[0,"getIndex"]],"start1":2969,"start2":2969,"length1":17,"length2":16}]],"length":4350,"saved":false}
{"ts":1379261921995,"patch":[[{"diffs":[[0,"nts."],[-1,"getIndex = function (request_waypoint) {\n                    var i, len = this.length;\n                    for (i = 0; i < len; i += 1) {\n                        waypoint = this[i];\n                        if (waypoint.lat === request_waypoint.lat\n                            || waypoint.long === request_waypoint.long) {\n                            return i;\n                        }\n                    }\n                };"],[0,"\n   "]],"start1":2973,"start2":2973,"length1":434,"length2":8}]],"length":3924,"saved":false}
{"ts":1379261924771,"patch":[[{"diffs":[[0,"ypoints."],[1,"getIndex = Ge"],[0,"\n       "]],"start1":2969,"start2":2969,"length1":16,"length2":29}]],"length":3937,"saved":false}
{"ts":1379261925798,"patch":[[{"diffs":[[0,"ndex = G"],[-1,"e"],[0,"\n       "]],"start1":2981,"start2":2981,"length1":17,"length2":16}]],"length":3936,"saved":false}
{"ts":1379261927735,"patch":[[{"diffs":[[0,"Index = "],[-1,"G"],[1,"getIndex;"],[0,"\n       "]],"start1":2980,"start2":2980,"length1":17,"length2":25}]],"length":3944,"saved":false}
{"ts":1379261941917,"patch":[[{"diffs":[[0,"\n            },\n"],[1,"            getIndex = function (request_waypoint) {\n                    var i, len = this.length;\n                    for (i = 0; i < len; i += 1) {\n                        waypoint = this[i];\n                        if (waypoint.lat === request_waypoint.lat\n                            || waypoint.long === request_waypoint.long) {\n                            return i;\n                        }\n                    }\n                };\n"],[0,"            dete"]],"start1":1358,"start2":1358,"length1":32,"length2":471}]],"length":4383,"saved":false}
{"ts":1379261943572,"patch":[[{"diffs":[[0,"               }"],[-1,";"],[1,","],[0,"\n            det"]],"start1":1795,"start2":1795,"length1":33,"length2":33}]],"length":4383,"saved":false}
{"ts":1379261946935,"patch":[[{"diffs":[[0,"            "],[-1,"    "],[0,"var i, len ="]],"start1":1431,"start2":1431,"length1":28,"length2":24},{"diffs":[[0,"length;\n"],[-1,"    "],[0,"        "]],"start1":1461,"start2":1461,"length1":20,"length2":16},{"diffs":[[0,"                "],[-1,"    "],[0,"waypoint = this["]],"start1":1520,"start2":1520,"length1":36,"length2":32},{"diffs":[[0,"            "],[-1," "],[-1,"   "],[0,"if (waypoint"]],"start1":1564,"start2":1564,"length1":28,"length2":24},{"diffs":[[0,"int.lat\n"],[-1,"    "],[0,"        "]],"start1":1610,"start2":1610,"length1":20,"length2":16},{"diffs":[[0,"            "],[-1,"    "],[0,"return i;\n  "]],"start1":1700,"start2":1700,"length1":28,"length2":24},{"diffs":[[0," i;\n"],[-1,"                        }\n"],[0,"    "]],"start1":1718,"start2":1718,"length1":34,"length2":8},{"diffs":[[0,"              }\n"],[-1,""],[0,"    "],[1,"            }\n"],[0,"            },\n "]],"start1":1728,"start2":1728,"length1":36,"length2":50}]],"length":4347,"saved":false}
{"ts":1379261960198,"patch":[[{"diffs":[[0,"s.length"],[1,",\n                    wa"],[0,";\n      "]],"start1":1459,"start2":1459,"length1":16,"length2":40}]],"length":4371,"saved":false}
{"ts":1379261962036,"patch":[[{"diffs":[[0,"      wa"],[1,"ypoint"],[0,";\n      "]],"start1":1483,"start2":1483,"length1":16,"length2":22}]],"length":4377,"saved":false}
{"ts":1379261963733,"patch":[[{"diffs":[[0,"waypoint"],[1," = n"],[0,";\n      "]],"start1":1489,"start2":1489,"length1":16,"length2":20}]],"length":4381,"saved":false}
{"ts":1379261965144,"patch":[[{"diffs":[[0,"oint = n"],[1,"ull"],[0,";\n      "]],"start1":1493,"start2":1493,"length1":16,"length2":19}]],"length":4384,"saved":false}
{"ts":1379263138543,"patch":[[{"diffs":[[0,"}\n        })"],[1,";\n        $scope.$on('result-address', function (event, response) {\n                (function () {\n                    var index = 0,\n                        len = $scope.waypoints_range.length,\n                        waypoint = null;\n                    for (index = 0; index < len; index += 1) {\n                        waypoint = $scope.waypoints_range[index];\n                        if (waypoint.lat === response.lat\n                            || waypoint.long === response.long) {\n                            waypoint.address = response.address;\n                        }\n                    }\n                }) ()\n            });"],[0,"\n    }])"]],"start1":4364,"start2":4364,"length1":20,"length2":659}]],"length":5023,"saved":false}
{"ts":1379263144035,"patch":[[{"diffs":[[0,"        "],[-1,"    "],[0,"(functio"]],"start1":4448,"start2":4448,"length1":20,"length2":16},{"diffs":[[0,"            "],[-1,"   "],[-1," "],[0,"var index = "]],"start1":4475,"start2":4475,"length1":28,"length2":24},{"diffs":[[0,"ex = 0,\n"],[-1,"    "],[0,"        "]],"start1":4494,"start2":4494,"length1":20,"length2":16},{"diffs":[[0,"                "],[-1," "],[-1,"   "],[0,"waypoint = null;"]],"start1":4563,"start2":4563,"length1":36,"length2":32},{"diffs":[[0,"aypoint = null;\n"],[-1,"    "],[0,"                "]],"start1":4580,"start2":4580,"length1":36,"length2":32},{"diffs":[[0,"                "],[-1,"    "],[0,"waypoint = $scop"]],"start1":4659,"start2":4659,"length1":36,"length2":32},{"diffs":[[0,"                "],[-1,"  "],[-1,"  "],[0,"if (waypoint.lat"]],"start1":4721,"start2":4721,"length1":36,"length2":32},{"diffs":[[0,"esponse.lat\n"],[-1,"    "],[0,"            "]],"start1":4759,"start2":4759,"length1":28,"length2":24},{"diffs":[[0,"                "],[-1,"    "],[0,"waypoint.address"]],"start1":4841,"start2":4841,"length1":36,"length2":32},{"diffs":[[0,"            "],[-1,"   "],[-1," "],[0,"}\n"],[-1,"    "],[0,"            "]],"start1":4902,"start2":4902,"length1":34,"length2":26},{"diffs":[[0,"    "],[-1,"    "],[0,"}) ()\n"],[-1,"    "],[0,"    "]],"start1":4942,"start2":4942,"length1":22,"length2":14}]],"length":4971,"saved":false}
{"ts":1379263213977,"patch":[[{"diffs":[[0,"\n               "],[1," /*"],[0," $scope.$digest("]],"start1":3744,"start2":3744,"length1":32,"length2":35}]],"length":4974,"saved":false}
{"ts":1379263327830,"patch":[[{"diffs":[[0,"              }\n"],[1,"                for (index = 0; index < len; index += 1) {\n                    waypoint = $scope.waypoints_range[index];\n                    if (waypoint.lat === response.lat\n                        || waypoint.long === response.long) {\n                        waypoint.address = response.address;\n                    }\n                }\n"],[0,"            }) ("]],"start1":4921,"start2":4921,"length1":32,"length2":370}]],"length":5312,"saved":false}
{"ts":1379265603406,"patch":[[{"diffs":[[0,"$scope.waypoints"],[-1,"_range"],[0,"[index];\n       "]],"start1":5027,"start2":5027,"length1":38,"length2":32}]],"length":5306,"saved":false}
{"ts":1379265613782,"patch":[[{"diffs":[[0,"              }\n"],[1,"                len = $scope.waypoints.l\n"],[0,"                "]],"start1":4921,"start2":4921,"length1":32,"length2":73}]],"length":5347,"saved":false}
{"ts":1379265615952,"patch":[[{"diffs":[[0,"points.l"],[1,"ength"],[0,"\n       "]],"start1":4969,"start2":4969,"length1":16,"length2":21}]],"length":5352,"saved":false}
{"ts":1379265619817,"patch":[[{"diffs":[[0,"s.length"],[1,";"],[0,"\n       "]],"start1":4974,"start2":4974,"length1":16,"length2":17}]],"length":5353,"saved":false}
{"ts":1379265635816,"patch":[[{"diffs":[[0,"aypoint = null;\n"],[1,"                \n"],[0,"                "]],"start1":4583,"start2":4583,"length1":32,"length2":49}]],"length":5370,"saved":false}
{"ts":1379265638342,"patch":[[{"diffs":[[0,"                "],[1,"/* */"],[0,"\n               "]],"start1":4599,"start2":4599,"length1":32,"length2":37}]],"length":5375,"saved":false}
{"ts":1379265639513,"patch":[[{"diffs":[[0,"      /*"],[1," "],[0," */\n    "]],"start1":4609,"start2":4609,"length1":16,"length2":17}]],"length":5376,"saved":false}
{"ts":1379265641331,"patch":[[{"diffs":[[0,"     /* "],[1,"get"],[0," */\n    "]],"start1":4610,"start2":4610,"length1":16,"length2":19}]],"length":5379,"saved":false}
{"ts":1379265643637,"patch":[[{"diffs":[[0,"     /* "],[-1,"get"],[0," */\n    "]],"start1":4610,"start2":4610,"length1":19,"length2":16}]],"length":5376,"saved":false}
{"ts":1379265644734,"patch":[[{"diffs":[[0,"     /* "],[1,"p"],[0," */\n    "]],"start1":4610,"start2":4610,"length1":16,"length2":17}]],"length":5377,"saved":false}
{"ts":1379265646340,"patch":[[{"diffs":[[0,"    /* p"],[1,"ut ad"],[0," */\n    "]],"start1":4611,"start2":4611,"length1":16,"length2":21}]],"length":5382,"saved":false}
{"ts":1379265647073,"patch":[[{"diffs":[[0,"* put ad"],[1,"d"],[0," */\n    "]],"start1":4616,"start2":4616,"length1":16,"length2":17}]],"length":5383,"saved":false}
{"ts":1379265649185,"patch":[[{"diffs":[[0," put add"],[1,"ress "],[0," */\n    "]],"start1":4617,"start2":4617,"length1":16,"length2":21}]],"length":5388,"saved":false}
{"ts":1379265650816,"patch":[[{"diffs":[[0,"address "],[1,"in "],[0," */\n    "]],"start1":4622,"start2":4622,"length1":16,"length2":19}]],"length":5391,"saved":false}
{"ts":1379265653846,"patch":[[{"diffs":[[0,"ess "],[-1,"in  "],[0,"*/\n "]],"start1":4626,"start2":4626,"length1":12,"length2":8}]],"length":5387,"saved":false}
{"ts":1379265656434,"patch":[[{"diffs":[[0," /* "],[-1,"put address"],[0," */\n"]],"start1":4614,"start2":4614,"length1":19,"length2":8}]],"length":5376,"saved":false}
{"ts":1379265664043,"patch":[[{"diffs":[[0,"     /* "],[1,"set address to corresponding coo"],[0," */\n    "]],"start1":4610,"start2":4610,"length1":16,"length2":48}]],"length":5408,"saved":false}
{"ts":1379265666278,"patch":[[{"diffs":[[0,"ding coo"],[1,"rdinates in"],[0," */\n    "]],"start1":4642,"start2":4642,"length1":16,"length2":27}]],"length":5419,"saved":false}
{"ts":1379265667348,"patch":[[{"diffs":[[0,"ates in "],[1," "],[0,"*/\n     "]],"start1":4654,"start2":4654,"length1":16,"length2":17}]],"length":5420,"saved":false}
{"ts":1379265669711,"patch":[[{"diffs":[[0,"ates in "],[1,"all wa"],[0," */\n    "]],"start1":4654,"start2":4654,"length1":16,"length2":22}]],"length":5426,"saved":false}
{"ts":1379265677592,"patch":[[{"diffs":[[0,"all "],[-1,"wa "],[0,"*/\n "]],"start1":4662,"start2":4662,"length1":11,"length2":8}]],"length":5423,"saved":false}
{"ts":1379265682410,"patch":[[{"diffs":[[0,"ll;\n"],[-1,"                /* set address to corresponding coordinates in all */\n"],[0,"    "]],"start1":4595,"start2":4595,"length1":78,"length2":8}]],"length":5353,"saved":false}
{"ts":1379265686479,"patch":[[{"diffs":[[0,"    "],[-1,"len = $scope.waypoints.length;\n                for (index = 0; index < len; index += 1) {\n                    waypoint = $scope.waypoints[index];\n                    if (waypoint.lat === response.lat\n                        || waypoint.long === response.long) {\n                        waypoint.address = response.address;\n                    }\n                }"],[0,"\n   "]],"start1":4949,"start2":4949,"length1":370,"length2":8}]],"length":4991,"saved":false}
{"ts":1379265687508,"patch":[[{"diffs":[[0,"                "],[1,"$"],[0,"\n            }) "]],"start1":4937,"start2":4937,"length1":32,"length2":33}]],"length":4992,"saved":false}
{"ts":1379265688212,"patch":[[{"diffs":[[0,"       $"],[1,"s"],[0,"\n       "]],"start1":4946,"start2":4946,"length1":16,"length2":17}]],"length":4993,"saved":false}
{"ts":1379265690069,"patch":[[{"diffs":[[0,"      $s"],[1,"cope."],[0,"\n       "]],"start1":4947,"start2":4947,"length1":16,"length2":21}]],"length":4998,"saved":false}
{"ts":1379265729325,"patch":[[{"diffs":[[0,"aypoint = null;\n"],[1,"\n"],[0,"                "]],"start1":4583,"start2":4583,"length1":32,"length2":33},{"diffs":[[0,"        "],[1," len ="],[0," $scope."],[1,"waypoints.length;\n                for (index = 0; index < len; index += 1) {\n                    waypoint = $scope.waypoints[index];\n                    if (waypoint.lat === response.lat\n                        || waypoint.long === response.long) {\n                        waypoint.address = response.address;\n                    }\n                }"],[0,"\n       "]],"start1":4945,"start2":4945,"length1":24,"length2":379}]],"length":5354,"saved":false}
{"ts":1379265731336,"patch":[[{"diffs":[[0,"= null;\n"],[-1,"\n"],[0,"        "]],"start1":4591,"start2":4591,"length1":17,"length2":16}]],"length":5353,"saved":false}
{"ts":1379265733369,"patch":[[{"diffs":[[0,"aypoint = null;\n"],[1,"                /* set address to corresponding coordinates in all */\n"],[0,"                "]],"start1":4583,"start2":4583,"length1":32,"length2":102}]],"length":5423,"saved":false}
{"ts":1379265738785,"patch":[[{"diffs":[[0,"ll;\n"],[-1,"                /* set address to corresponding coordinates in all */"],[0,"\n   "]],"start1":4595,"start2":4595,"length1":77,"length2":8}]],"length":5354,"saved":false}
{"ts":1379265811192,"patch":[[{"diffs":[[0,"= null;\n"],[-1,"\n"],[0,"        "]],"start1":4591,"start2":4591,"length1":17,"length2":16}]],"length":5353,"saved":false}
{"ts":1379265812433,"patch":[[{"diffs":[[0,"aypoint = null;\n"],[1,"\n"],[0,"                "]],"start1":4583,"start2":4583,"length1":32,"length2":33}]],"length":5354,"saved":false}
{"ts":1379265818937,"patch":[[{"diffs":[[0,"              }\n"],[1,"                /\n"],[0,"                "]],"start1":4922,"start2":4922,"length1":32,"length2":50}]],"length":5372,"saved":false}
{"ts":1379265821022,"patch":[[{"diffs":[[0,"       /"],[1,"* no v"],[0,"\n       "]],"start1":4947,"start2":4947,"length1":16,"length2":22}]],"length":5378,"saved":false}
{"ts":1379265823376,"patch":[[{"diffs":[[0," /* no v"],[1,"ery clem"],[0,"\n       "]],"start1":4953,"start2":4953,"length1":16,"length2":24}]],"length":5386,"saved":false}
{"ts":1379265824958,"patch":[[{"diffs":[[0,"very cle"],[-1,"m"],[1,"ver"],[0,"\n       "]],"start1":4960,"start2":4960,"length1":17,"length2":19}]],"length":5388,"saved":false}
{"ts":1379265833247,"patch":[[{"diffs":[[0,"y clever"],[1," but "],[0,"\n       "]],"start1":4963,"start2":4963,"length1":16,"length2":21}]],"length":5393,"saved":false}
{"ts":1379265840512,"patch":[[{"diffs":[[0,"ver but "],[1,"at this point we don't know"],[0,"\n       "]],"start1":4968,"start2":4968,"length1":16,"length2":43}]],"length":5420,"saved":false}
{"ts":1379265843792,"patch":[[{"diffs":[[0,"n't know"],[1," exact index "],[0,"\n       "]],"start1":4995,"start2":4995,"length1":16,"length2":29}]],"length":5433,"saved":false}
{"ts":1379265845682,"patch":[[{"diffs":[[0,"t index "],[1,"*/"],[0,"\n       "]],"start1":5008,"start2":5008,"length1":16,"length2":18}]],"length":5435,"saved":false}
{"ts":1379266118277,"patch":[[{"diffs":[[0,"    "],[-1,"len = $scope.waypoints.length;\n                for (index = 0; index < len; index += 1) {\n                    waypoint = $scope.waypoints[index];\n                    if (waypoint.lat === response.lat\n                        || waypoint.long === response.long) {\n                        waypoint.address = response.address;\n                    }\n                }"],[0,"\n   "]],"start1":5031,"start2":5031,"length1":370,"length2":8}]],"length":5073,"saved":false}
{"ts":1379266120676,"patch":[[{"diffs":[[0,"    "],[-1,"/* no very clever but at this point we don't know exact index */"],[0,"\n   "]],"start1":4950,"start2":4950,"length1":72,"length2":8}]],"length":5009,"saved":false}
{"ts":1379266127155,"patch":[[{"diffs":[[0,"    "],[-1,"$scope.$broadcast('result-address', response);"],[0,"\n   "]],"start1":4112,"start2":4112,"length1":54,"length2":8}]],"length":4963,"saved":false}
{"ts":1379266130013,"patch":[[{"diffs":[[0,"        "],[-1,"\n                "],[1,"$scope.$broadcast('result-address', response);"],[0,"\n       "]],"start1":4900,"start2":4900,"length1":33,"length2":62}]],"length":4992,"saved":false}
{"ts":1379266134591,"patch":[[{"diffs":[[0," };\n"],[-1,"        socket.on('result-address', function (response) {\n            \n        });\n"],[0,"    "]],"start1":4042,"start2":4042,"length1":91,"length2":8}]],"length":4909,"saved":false}
{"ts":1379266187048,"patch":[[{"diffs":[[0,"        "],[-1,"$scope"],[0,".$on('re"]],"start1":4252,"start2":4252,"length1":22,"length2":16}]],"length":4903,"saved":false}
{"ts":1379266189293,"patch":[[{"diffs":[[0,"        "],[1,"socket"],[0,".$on('re"]],"start1":4252,"start2":4252,"length1":16,"length2":22}]],"length":4909,"saved":false}
{"ts":1379266191448,"patch":[[{"diffs":[[0," socket."],[-1,"$"],[0,"on('resu"]],"start1":4259,"start2":4259,"length1":17,"length2":16}]],"length":4908,"saved":false}
{"ts":1379266196727,"patch":[[{"diffs":[[0,"on ("],[-1,"event, "],[0,"resp"]],"start1":4294,"start2":4294,"length1":15,"length2":8}]],"length":4901,"saved":false}
{"ts":1379266273593,"patch":[[{"diffs":[[0,"response"],[1,".address"],[0,");\n     "]],"start1":4853,"start2":4853,"length1":16,"length2":24}]],"length":4909,"saved":false}
{"ts":1379266597816,"patch":[[{"diffs":[[0,"    "],[-1,"$scope.waypoints.getIndex = getIndex;"],[0,"\n   "]],"start1":3396,"start2":3396,"length1":45,"length2":8}]],"length":4872,"saved":false}
{"ts":1379266604165,"patch":[[{"diffs":[[0,"    });\n"],[-1,"            \n"],[0,"        "]],"start1":3380,"start2":3380,"length1":29,"length2":16}]],"length":4859,"saved":false}
{"ts":1379266606437,"patch":[[{"diffs":[[0,";\n            }\n"],[1,"            $scope.waypoints.getIndex = getIndex;\n"],[0,"        });\n    "]],"start1":3815,"start2":3815,"length1":32,"length2":82}]],"length":4909,"saved":false}
{"ts":1379266744578,"patch":[[{"diffs":[[0," },\n"],[-1,"            getIndex = function (request_waypoint) {\n                var i, len = this.length,\n                    waypoint = null;\n                for (i = 0; i < len; i += 1) {\n                    waypoint = this[i];\n                    if (waypoint.lat === request_waypoint.lat\n                        || waypoint.long === request_waypoint.long) {\n                        return i;\n                    }\n                }\n            },\n"],[0,"    "]],"start1":1370,"start2":1370,"length1":448,"length2":8}]],"length":4469,"saved":false}
{"ts":1379266749319,"patch":[[{"diffs":[[0,"  }\n"],[-1,"            $scope.waypoints.getIndex = getIndex;\n"],[0,"    "]],"start1":3387,"start2":3387,"length1":58,"length2":8}]],"length":4419,"saved":false}
{"ts":1379267008078,"patch":[[{"diffs":[[0,"       /"],[-1,"* "],[0,"$scope.$"]],"start1":3264,"start2":3264,"length1":18,"length2":16}]],"length":4417,"saved":false}
{"ts":1379267010140,"patch":[[{"diffs":[[0,"        "],[-1,"/"],[0,"$scope.$"]],"start1":3263,"start2":3263,"length1":17,"length2":16}]],"length":4416,"saved":false}
{"ts":1379267480357,"patch":[[{"diffs":[[0,"aypoints"],[-1,"_range"],[0,".length,"]],"start1":3909,"start2":3909,"length1":22,"length2":16}]],"length":4410,"saved":false}
{"ts":1379267483206,"patch":[[{"diffs":[[0,"ints"],[-1,"_range"],[0,"[ind"]],"start1":4066,"start2":4066,"length1":14,"length2":8}]],"length":4404,"saved":false}
